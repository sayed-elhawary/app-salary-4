{"ast":null,"code":"import _objectSpread from\"/root/salary-2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext,useEffect,useMemo}from'react';import{useNavigate}from'react-router-dom';import{AuthContext}from'../components/AuthProvider';import NavBar from'../components/NavBar';import ReportTable from'../components/ReportTable';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{DateTime}from'luxon';// Fallback API URL if environment variable is not set\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const UploadFingerprint=()=>{const{user}=useContext(AuthContext);const navigate=useNavigate();const[file,setFile]=useState(null);const[searchCode,setSearchCode]=useState('');const[dateFrom,setDateFrom]=useState('');const[dateTo,setDateTo]=useState('');const[reports,setReports]=useState([]);const[isCreatingMission,setIsCreatingMission]=useState(false);const[isCreatingMedicalLeave,setIsCreatingMedicalLeave]=useState(false);const[missionDetails,setMissionDetails]=useState({code:'',date:'',checkIn:'',checkOut:'',missionType:'مهمة رسمية',description:''});const[medicalLeaveDetails,setMedicalLeaveDetails]=useState({code:'',dateFrom:'',dateTo:''});const[loading,setLoading]=useState(false);const[missionLoading,setMissionLoading]=useState(false);const[medicalLeaveLoading,setMedicalLeaveLoading]=useState(false);const[showSingleFingerprint,setShowSingleFingerprint]=useState(false);const[showAbsenceDays,setShowAbsenceDays]=useState(false);useEffect(()=>{if(!user||user.role!=='admin'){navigate('/login');}},[user,navigate]);const filteredReports=useMemo(()=>{let filtered=reports;if(showSingleFingerprint){filtered=filtered.filter(report=>report.isSingleFingerprint==='نعم');}if(showAbsenceDays){filtered=filtered.filter(report=>report.absence==='نعم');}return filtered;},[reports,showSingleFingerprint,showAbsenceDays]);const isWeeklyLeaveDay=(date,workDaysPerWeek)=>{const dayOfWeek=DateTime.fromJSDate(date,{zone:'Africa/Cairo'}).weekday;return workDaysPerWeek===5&&(dayOfWeek===5||dayOfWeek===6)||workDaysPerWeek===6&&dayOfWeek===5;};const calculateTotals=()=>{const totals=filteredReports.reduce((acc,report)=>{const isWeeklyLeave=isWeeklyLeaveDay(new Date(report.date),report.workDaysPerWeek||5);const isWorkDay=!isWeeklyLeave&&report.absence==='لا'&&report.annualLeave==='لا'&&report.medicalLeave==='لا';const isAbsenceDay=report.absence==='نعم';acc.totalWorkHours+=report.workHours||0;acc.totalWorkDays+=isWorkDay?1:0;acc.totalAbsenceDays+=isAbsenceDay?1:0;acc.totalDeductions+=(report.lateDeduction||0)+(report.earlyLeaveDeduction||0)+(report.medicalLeaveDeduction||0);acc.totalOvertime+=report.overtime||0;acc.totalWeeklyLeaveDays+=isWeeklyLeave?1:0;acc.totalAnnualLeaveDays+=report.annualLeave==='نعم'?1:0;acc.totalMedicalLeaveDays+=report.medicalLeave==='نعم'?1:0;acc.totalLateMinutes+=report.lateMinutes||0;acc.annualLeaveBalance=report.annualLeaveBalance||21;// Default, should be fetched from backend\nreturn acc;},{totalWorkHours:0,totalWorkDays:0,totalAbsenceDays:0,totalDeductions:0,totalOvertime:0,totalWeeklyLeaveDays:0,totalAnnualLeaveDays:0,totalMedicalLeaveDays:0,totalLateMinutes:0,annualLeaveBalance:21// Default, should be fetched from backend\n});return{totalWorkHours:totals.totalWorkHours.toFixed(2),totalWorkDays:totals.totalWorkDays,totalAbsenceDays:totals.totalAbsenceDays,totalDeductions:totals.totalDeductions.toFixed(2),totalOvertime:totals.totalOvertime.toFixed(2),totalWeeklyLeaveDays:totals.totalWeeklyLeaveDays,totalAnnualLeaveDays:totals.totalAnnualLeaveDays,totalMedicalLeaveDays:totals.totalMedicalLeaveDays,totalLateMinutes:totals.totalLateMinutes,annualLeaveBalance:totals.annualLeaveBalance};};const totals=calculateTotals();if(!user||user.role!=='admin')return null;const handleFileChange=e=>setFile(e.target.files[0]);const handleUpload=async e=>{e.preventDefault();if(!file)return alert('يرجى اختيار ملف أولاً');setLoading(true);const fd=new FormData();fd.append('file',file);try{const res=await axios.post(\"\".concat(API_URL,\"/api/fingerprints/upload\"),fd,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setReports(res.data.reports);setFile(null);alert('تم رفع الملف وتحديث البيانات بنجاح');}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;console.error('Error uploading file:',((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message);alert(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0631\\u0641\\u0639 \\u0627\\u0644\\u0645\\u0644\\u0641: \".concat(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||err.message));}finally{setLoading(false);}};const handleSearch=async()=>{if(dateFrom&&dateTo&&DateTime.fromISO(dateFrom)>DateTime.fromISO(dateTo)){alert('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');return;}setLoading(true);try{const res=await axios.get(\"\".concat(API_URL,\"/api/fingerprints\"),{params:{code:searchCode,dateFrom,dateTo},headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});let reports=res.data.reports;const startDate=DateTime.fromISO(dateFrom,{zone:'Africa/Cairo'});const endDate=DateTime.fromISO(dateTo,{zone:'Africa/Cairo'});if(startDate.isValid&&endDate.isValid&&searchCode){const user=await axios.get(\"\".concat(API_URL,\"/api/users/\").concat(searchCode),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(res=>res.data.user).catch(()=>null);const workDaysPerWeek=(user===null||user===void 0?void 0:user.workDaysPerWeek)||5;let currentDate=startDate;const allReports=[];while(currentDate<=endDate){const dateStr=currentDate.toISODate();const existingReport=reports.find(r=>r.code===searchCode&&DateTime.fromISO(r.date).toISODate()===dateStr);if(!existingReport){const isWeeklyLeave=isWeeklyLeaveDay(currentDate.toJSDate(),workDaysPerWeek);const report={code:searchCode,date:dateStr,checkIn:null,checkOut:null,workHours:0,overtime:0,lateMinutes:0,lateDeduction:0,earlyLeaveDeduction:isWeeklyLeave?0:1,absence:isWeeklyLeave?'لا':'نعم',annualLeave:'لا',medicalLeave:'لا',medicalLeaveDeduction:0,isSingleFingerprint:'',workDaysPerWeek,weeklyLeaveDays:isWeeklyLeave?1:0,employeeName:(user===null||user===void 0?void 0:user.fullName)||\"\\u0645\\u0648\\u0638\\u0641 \".concat(searchCode||'غير معروف'),monthlyLateAllowance:(user===null||user===void 0?void 0:user.monthlyLateAllowance)||120,// Default, should be fetched from backend\ntotalAnnualLeave:(user===null||user===void 0?void 0:user.totalAnnualLeave)||0,annualLeaveBalance:(user===null||user===void 0?void 0:user.annualLeaveBalance)||21// Default, should be fetched from backend\n};allReports.push(report);}else{allReports.push(_objectSpread(_objectSpread({},existingReport),{},{workHours:existingReport.checkIn||existingReport.checkOut?8:0,// Assumption: single fingerprint counts as 8 hours\nabsence:existingReport.checkIn||existingReport.checkOut?'لا':existingReport.absence,employeeName:(user===null||user===void 0?void 0:user.fullName)||\"\\u0645\\u0648\\u0638\\u0641 \".concat(searchCode||'غير معروف')}));}currentDate=currentDate.plus({days:1});}reports=allReports.sort((a,b)=>new Date(a.date)-new Date(b.date));}setReports(reports);}catch(err){var _err$response3,_err$response3$data,_err$response4,_err$response4$data;console.error('Error searching reports:',((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||err.message);alert(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0627\\u0644\\u0628\\u062D\\u062B: \".concat(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||err.message));}finally{setLoading(false);}};const handleShowAll=async()=>{setLoading(true);try{const res=await axios.get(\"\".concat(API_URL,\"/api/fingerprints\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setReports(res.data.reports);setSearchCode('');setDateFrom('');setDateTo('');}catch(err){var _err$response5,_err$response5$data,_err$response6,_err$response6$data;console.error('Error fetching all reports:',((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||err.message);alert(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u062C\\u0644\\u0628 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0633\\u062C\\u0644\\u0627\\u062A: \".concat(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.error)||err.message));}finally{setLoading(false);}};const handleDeleteAllFingerprints=async()=>{if(!window.confirm('هل أنت متأكد من حذف جميع سجلات البصمات؟ هذه العملية لا يمكن التراجع عنها!')){return;}setLoading(true);try{const res=await axios.delete(\"\".concat(API_URL,\"/api/fingerprints/all\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setReports([]);alert(\"\\u062A\\u0645 \\u062D\\u0630\\u0641 \".concat(res.data.deletedCount,\" \\u0633\\u062C\\u0644 \\u0628\\u0635\\u0645\\u0629 \\u0628\\u0646\\u062C\\u0627\\u062D\"));}catch(err){var _err$response7,_err$response7$data,_err$response8,_err$response8$data;console.error('Error deleting all fingerprints:',((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.error)||err.message);alert(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0627\\u0644\\u062D\\u0630\\u0641: \".concat(((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.error)||err.message));}finally{setLoading(false);}};const handleEditReport=async report=>{try{console.log('Editing report:',report);// تحضير البيانات\nconst reportData={code:report.code,date:report.date,checkIn:report.checkIn&&report.checkIn!==''?report.checkIn:null,checkOut:report.checkOut&&report.checkOut!==''?report.checkOut:null,absence:report.annualLeave||report.medicalLeave?false:report.absence===true||report.absence==='نعم',annualLeave:report.annualLeave===true||report.annualLeave==='نعم',medicalLeave:report.medicalLeave===true||report.medicalLeave==='نعم'};// التحقق من تنسيق الوقت إذا كان موجودًا\nconst timeRegex=/^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;if(reportData.checkIn&&!timeRegex.test(reportData.checkIn)){throw new Error('تنسيق وقت الحضور غير صالح، يجب أن يكون HH:mm:ss');}if(reportData.checkOut&&!timeRegex.test(reportData.checkOut)){throw new Error('تنسيق وقت الانصراف غير صالح، يجب أن يكون HH:mm:ss');}let response;if(report._id){// تحديث سجل موجود\nconsole.log(\"Updating existing fingerprint with ID: \".concat(report._id));response=await axios.put(\"\".concat(API_URL,\"/api/fingerprints/\").concat(report._id),reportData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});}else{// التحقق أولاً إذا كان هناك سجل بنفس الكود والتاريخ\nconst existingReport=await axios.get(\"\".concat(API_URL,\"/api/fingerprints\"),{params:{code:reportData.code,dateFrom:reportData.date,dateTo:reportData.date},headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(res=>res.data.reports.find(r=>r.date===reportData.date));if(existingReport){// تحديث السجل الموجود\nconsole.log(\"Found existing report for \".concat(reportData.code,\" on \").concat(reportData.date,\", updating...\"));response=await axios.put(\"\".concat(API_URL,\"/api/fingerprints/\").concat(existingReport._id),reportData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});}else{// إنشاء سجل جديد\nconsole.log('Creating new fingerprint');response=await axios.post(\"\".concat(API_URL,\"/api/fingerprints\"),reportData,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});}}// تحديث التقارير في الواجهة الأمامية\nsetReports(prev=>prev.map(r=>r.date===response.data.report.date&&r.code===response.data.report.code?_objectSpread({},response.data.report):r));alert(response.data.message);await handleSearch();// إعادة تحميل البيانات بعد التعديل\n}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error('Error updating/creating report:',((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message);alert(\"\\u062E\\u0637\\u0623 \\u0641\\u064A \\u062A\\u0639\\u062F\\u064A\\u0644/\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0627\\u0644\\u0633\\u062C\\u0644: \".concat(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message));}};const handleCreateMission=async e=>{e.preventDefault();setMissionLoading(true);try{const token=localStorage.getItem('token');const missionDate=DateTime.fromISO(missionDetails.date,{zone:'Africa/Cairo'});if(!missionDate.isValid){throw new Error('تاريخ المأمورية غير صالح');}const timeRegex=/^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;if(missionDetails.checkIn&&missionDetails.checkIn!==''&&!timeRegex.test(missionDetails.checkIn)){throw new Error('تنسيق وقت الحضور غير صالح، يجب أن يكون HH:mm:ss');}if(missionDetails.checkOut&&missionDetails.checkOut!==''&&!timeRegex.test(missionDetails.checkOut)){throw new Error('تنسيق وقت الانصراف غير صالح، يجب أن يكون HH:mm:ss');}const checkIn=missionDetails.checkIn?DateTime.fromFormat(\"\".concat(missionDetails.date,\" \").concat(missionDetails.checkIn),'yyyy-MM-dd HH:mm:ss',{zone:'Africa/Cairo'}).toJSDate():null;const checkOut=missionDetails.checkOut?DateTime.fromFormat(\"\".concat(missionDetails.date,\" \").concat(missionDetails.checkOut),'yyyy-MM-dd HH:mm:ss',{zone:'Africa/Cairo'}).toJSDate():null;const workHours=checkIn&&checkOut?8:0;// Assumption: mission counts as 8 hours if both times are provided\nconst response=await axios.post(\"\".concat(API_URL,\"/api/fingerprints/mission\"),{code:missionDetails.code,date:missionDetails.date,checkIn:missionDetails.checkIn||null,checkOut:missionDetails.checkOut||null,missionType:missionDetails.missionType,description:missionDetails.description},{headers:{Authorization:\"Bearer \".concat(token)}});setReports(prev=>[...prev.filter(r=>r._id!==response.data.report._id),_objectSpread(_objectSpread({},response.data.report),{},{workHours,absence:'لا',annualLeave:'لا',medicalLeave:'لا'})]);setIsCreatingMission(false);setMissionDetails({code:'',date:'',checkIn:'',checkOut:'',missionType:'مهمة رسمية',description:''});alert('تم إنشاء المأمورية بنجاح');}catch(err){var _err$response9,_err$response9$data,_err$response0,_err$response0$data;console.error('Error creating mission:',((_err$response9=err.response)===null||_err$response9===void 0?void 0:(_err$response9$data=_err$response9.data)===null||_err$response9$data===void 0?void 0:_err$response9$data.error)||err.message);alert(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0625\\u0646\\u0634\\u0627\\u0621 \\u0627\\u0644\\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629: \".concat(((_err$response0=err.response)===null||_err$response0===void 0?void 0:(_err$response0$data=_err$response0.data)===null||_err$response0$data===void 0?void 0:_err$response0$data.error)||err.message));}finally{setMissionLoading(false);}};const handleCreateMedicalLeave=async e=>{e.preventDefault();setMedicalLeaveLoading(true);try{const startDate=DateTime.fromISO(medicalLeaveDetails.dateFrom,{zone:'Africa/Cairo'});const endDate=DateTime.fromISO(medicalLeaveDetails.dateTo,{zone:'Africa/Cairo'});if(!startDate.isValid||!endDate.isValid){throw new Error('تاريخ البداية أو النهاية غير صالح');}if(startDate>endDate){throw new Error('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');}const response=await axios.post(\"\".concat(API_URL,\"/api/fingerprints/medical-leave\"),{code:medicalLeaveDetails.code,dateFrom:medicalLeaveDetails.dateFrom,dateTo:medicalLeaveDetails.dateTo},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setReports(prev=>[...prev.filter(r=>!response.data.reports.some(newR=>newR._id===r._id)),...response.data.reports]);setIsCreatingMedicalLeave(false);setMedicalLeaveDetails({code:'',dateFrom:'',dateTo:''});alert('تم إنشاء الإجازة الطبية بنجاح');}catch(err){var _err$response1,_err$response1$data,_err$response10,_err$response10$data;console.error('Error creating medical leave:',((_err$response1=err.response)===null||_err$response1===void 0?void 0:(_err$response1$data=_err$response1.data)===null||_err$response1$data===void 0?void 0:_err$response1$data.error)||err.message);alert(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0625\\u0646\\u0634\\u0627\\u0621 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0637\\u0628\\u064A\\u0629: \".concat(((_err$response10=err.response)===null||_err$response10===void 0?void 0:(_err$response10$data=_err$response10.data)===null||_err$response10$data===void 0?void 0:_err$response10$data.error)||err.message));}finally{setMedicalLeaveLoading(false);}};const handleMissionChange=e=>{const{name,value}=e.target;setMissionDetails(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleMedicalLeaveChange=e=>{const{name,value}=e.target;setMedicalLeaveDetails(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-4 text-right\",children:\"\\u0631\\u0641\\u0639 \\u0645\\u0644\\u0641 \\u0627\\u0644\\u0628\\u0635\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0645\\u0644\\u0641 Excel\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx, .xls\",onChange:handleFileChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",\"aria-label\":\"\\u0631\\u0641\\u0639 \\u0645\\u0644\\u0641 Excel\"})]}),/*#__PURE__*/_jsx(motion.button,{type:\"submit\",disabled:loading||!file,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 \".concat(loading||!file?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ الرفع...':'رفع الملف'})]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-4 text-right\",children:\"\\u0627\\u0644\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchCode,onChange:e=>setSearchCode(e.target.value),className:\"w-full px-3 py-2 border rounded-lg text-right\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",\"aria-label\":\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFrom,onChange:e=>setDateFrom(e.target.value),className:\"w-full px-3 py-2 border rounded-lg text-right\",\"aria-label\":\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateTo,onChange:e=>setDateTo(e.target.value),className:\"w-full px-3 py-2 border rounded-lg text-right\",\"aria-label\":\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-4\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:handleSearch,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ البحث...':'بحث'}),/*#__PURE__*/_jsx(motion.button,{onClick:handleShowAll,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors duration-300 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ الجلب...':'عرض الكل'}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>setIsCreatingMission(true),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors duration-300\",children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\"}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>setIsCreatingMedicalLeave(true),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 transition-colors duration-300\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0625\\u062C\\u0627\\u0632\\u0629 \\u0637\\u0628\\u064A\\u0629\"}),/*#__PURE__*/_jsx(motion.button,{onClick:handleDeleteAllFingerprints,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors duration-300 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:\"\\u062D\\u0630\\u0641 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0628\\u0635\\u0645\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-gray-700 text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showSingleFingerprint,onChange:()=>setShowSingleFingerprint(!showSingleFingerprint),className:\"mr-2\",\"aria-label\":\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0628\\u0635\\u0645\\u0627\\u062A \\u0627\\u0644\\u0641\\u0631\\u062F\\u064A\\u0629 \\u0641\\u0642\\u0637\"}),\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0628\\u0635\\u0645\\u0627\\u062A \\u0627\\u0644\\u0641\\u0631\\u062F\\u064A\\u0629 \\u0641\\u0642\\u0637\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-gray-700 text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showAbsenceDays,onChange:()=>setShowAbsenceDays(!showAbsenceDays),className:\"mr-2\",\"aria-label\":\"\\u0639\\u0631\\u0636 \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u063A\\u064A\\u0627\\u0628 \\u0641\\u0642\\u0637\"}),\"\\u0639\\u0631\\u0636 \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u063A\\u064A\\u0627\\u0628 \\u0641\\u0642\\u0637\"]})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:isCreatingMission&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"bg-white p-6 rounded-xl shadow-lg w-full max-w-md\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-4 text-right\",children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateMission,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"code\",value:missionDetails.code,onChange:handleMissionChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",required:true,\"aria-label\":\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:missionDetails.date,onChange:handleMissionChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",required:true,\"aria-label\":\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u062A\\u0648\\u0642\\u064A\\u062A \\u0627\\u0644\\u062D\\u0636\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"checkIn\",value:missionDetails.checkIn,onChange:handleMissionChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",placeholder:\"HH:mm:ss\",\"aria-label\":\"\\u062A\\u0648\\u0642\\u064A\\u062A \\u0627\\u0644\\u062D\\u0636\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u062A\\u0648\\u0642\\u064A\\u062A \\u0627\\u0644\\u0627\\u0646\\u0635\\u0631\\u0627\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"checkOut\",value:missionDetails.checkOut,onChange:handleMissionChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",placeholder:\"HH:mm:ss\",\"aria-label\":\"\\u062A\\u0648\\u0642\\u064A\\u062A \\u0627\\u0644\\u0627\\u0646\\u0635\\u0631\\u0627\\u0641\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"missionType\",value:missionDetails.missionType,onChange:handleMissionChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",\"aria-label\":\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0645\\u0647\\u0645\\u0629 \\u0631\\u0633\\u0645\\u064A\\u0629\",children:\"\\u0645\\u0647\\u0645\\u0629 \\u0631\\u0633\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062A\\u062F\\u0631\\u064A\\u0628\",children:\"\\u062A\\u062F\\u0631\\u064A\\u0628\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0623\\u062E\\u0631\\u0649\",children:\"\\u0623\\u062E\\u0631\\u0649\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:missionDetails.description,onChange:handleMissionChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",rows:\"4\",\"aria-label\":\"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u0623\\u0645\\u0648\\u0631\\u064A\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(motion.button,{type:\"submit\",disabled:missionLoading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 \".concat(missionLoading?'opacity-50 cursor-not-allowed':''),children:missionLoading?'جارٍ الإنشاء...':'إنشاء'}),/*#__PURE__*/_jsx(motion.button,{type:\"button\",onClick:()=>setIsCreatingMission(false),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:isCreatingMedicalLeave&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"bg-white p-6 rounded-xl shadow-lg w-full max-w-md\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-4 text-right\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0625\\u062C\\u0627\\u0632\\u0629 \\u0637\\u0628\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateMedicalLeave,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"code\",value:medicalLeaveDetails.code,onChange:handleMedicalLeaveChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",required:true,\"aria-label\":\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dateFrom\",value:medicalLeaveDetails.dateFrom,onChange:handleMedicalLeaveChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",required:true,\"aria-label\":\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dateTo\",value:medicalLeaveDetails.dateTo,onChange:handleMedicalLeaveChange,className:\"w-full px-3 py-2 border rounded-lg text-right\",required:true,\"aria-label\":\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(motion.button,{type:\"submit\",disabled:medicalLeaveLoading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 \".concat(medicalLeaveLoading?'opacity-50 cursor-not-allowed':''),children:medicalLeaveLoading?'جارٍ الإنشاء...':'إنشاء'}),/*#__PURE__*/_jsx(motion.button,{type:\"button\",onClick:()=>setIsCreatingMedicalLeave(false),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})]})})}),filteredReports.length>0&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.4},className:\"bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-4 text-right\",children:\"\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsx(ReportTable,{reports:filteredReports,onEdit:handleEditReport}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-right\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\\u0627\\u062A \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg shadow-inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0633\\u0627\\u0639\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u0644\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-blue-700\",children:[totals.totalWorkHours,\" \\u0633\\u0627\\u0639\\u0629\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0639\\u0645\\u0644\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-green-700\",children:[totals.totalWorkDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u063A\\u064A\\u0627\\u0628\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-red-700\",children:[totals.totalAbsenceDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062E\\u0635\\u0648\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-yellow-700\",children:[totals.totalDeductions,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u062F\\u0642\\u0627\\u0626\\u0642 \\u0627\\u0644\\u062A\\u0623\\u062E\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-orange-700\",children:[totals.totalLateMinutes,\" \\u062F\\u0642\\u064A\\u0642\\u0629\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0633\\u0627\\u0639\\u0627\\u062A \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-purple-700\",children:[totals.totalOvertime,\" \\u0633\\u0627\\u0639\\u0629\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-indigo-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-indigo-700\",children:[totals.totalWeeklyLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-teal-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629 (\\u0627\\u0644\\u0641\\u062A\\u0631\\u0629)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-teal-700\",children:[totals.totalAnnualLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-pink-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0637\\u0628\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-pink-700\",children:[totals.totalMedicalLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0627\\u062A \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-gray-700\",children:[totals.annualLeaveBalance,\" \\u064A\\u0648\\u0645\"]})]})]})]})]})]})]});};export default UploadFingerprint;","map":{"version":3,"names":["React","useState","useContext","useEffect","useMemo","useNavigate","AuthContext","NavBar","ReportTable","motion","AnimatePresence","axios","DateTime","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","UploadFingerprint","user","navigate","file","setFile","searchCode","setSearchCode","dateFrom","setDateFrom","dateTo","setDateTo","reports","setReports","isCreatingMission","setIsCreatingMission","isCreatingMedicalLeave","setIsCreatingMedicalLeave","missionDetails","setMissionDetails","code","date","checkIn","checkOut","missionType","description","medicalLeaveDetails","setMedicalLeaveDetails","loading","setLoading","missionLoading","setMissionLoading","medicalLeaveLoading","setMedicalLeaveLoading","showSingleFingerprint","setShowSingleFingerprint","showAbsenceDays","setShowAbsenceDays","role","filteredReports","filtered","filter","report","isSingleFingerprint","absence","isWeeklyLeaveDay","workDaysPerWeek","dayOfWeek","fromJSDate","zone","weekday","calculateTotals","totals","reduce","acc","isWeeklyLeave","Date","isWorkDay","annualLeave","medicalLeave","isAbsenceDay","totalWorkHours","workHours","totalWorkDays","totalAbsenceDays","totalDeductions","lateDeduction","earlyLeaveDeduction","medicalLeaveDeduction","totalOvertime","overtime","totalWeeklyLeaveDays","totalAnnualLeaveDays","totalMedicalLeaveDays","totalLateMinutes","lateMinutes","annualLeaveBalance","toFixed","handleFileChange","e","target","files","handleUpload","preventDefault","alert","fd","FormData","append","res","post","concat","headers","Authorization","localStorage","getItem","data","err","_err$response","_err$response$data","_err$response2","_err$response2$data","console","error","response","message","handleSearch","fromISO","get","params","startDate","endDate","isValid","then","catch","currentDate","allReports","dateStr","toISODate","existingReport","find","r","toJSDate","weeklyLeaveDays","employeeName","fullName","monthlyLateAllowance","totalAnnualLeave","push","_objectSpread","plus","days","sort","a","b","_err$response3","_err$response3$data","_err$response4","_err$response4$data","handleShowAll","_err$response5","_err$response5$data","_err$response6","_err$response6$data","handleDeleteAllFingerprints","window","confirm","delete","deletedCount","_err$response7","_err$response7$data","_err$response8","_err$response8$data","handleEditReport","log","reportData","timeRegex","test","Error","_id","put","prev","map","_error$response","_error$response$data","_error$response2","_error$response2$data","handleCreateMission","token","missionDate","fromFormat","_err$response9","_err$response9$data","_err$response0","_err$response0$data","handleCreateMedicalLeave","some","newR","_err$response1","_err$response1$data","_err$response10","_err$response10$data","handleMissionChange","name","value","handleMedicalLeaveChange","className","children","div","initial","opacity","y","animate","transition","duration","onSubmit","type","accept","onChange","button","disabled","whileHover","scale","whileTap","delay","placeholder","onClick","checked","exit","stopPropagation","required","rows","length","onEdit"],"sources":["/root/salary-2/frontend/src/pages/UploadFingerprint.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../components/AuthProvider';\nimport NavBar from '../components/NavBar';\nimport ReportTable from '../components/ReportTable';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { DateTime } from 'luxon';\n\n// Fallback API URL if environment variable is not set\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst UploadFingerprint = () => {\n  const { user } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const [file, setFile] = useState(null);\n  const [searchCode, setSearchCode] = useState('');\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n  const [reports, setReports] = useState([]);\n  const [isCreatingMission, setIsCreatingMission] = useState(false);\n  const [isCreatingMedicalLeave, setIsCreatingMedicalLeave] = useState(false);\n  const [missionDetails, setMissionDetails] = useState({\n    code: '',\n    date: '',\n    checkIn: '',\n    checkOut: '',\n    missionType: 'مهمة رسمية',\n    description: '',\n  });\n  const [medicalLeaveDetails, setMedicalLeaveDetails] = useState({\n    code: '',\n    dateFrom: '',\n    dateTo: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [missionLoading, setMissionLoading] = useState(false);\n  const [medicalLeaveLoading, setMedicalLeaveLoading] = useState(false);\n  const [showSingleFingerprint, setShowSingleFingerprint] = useState(false);\n  const [showAbsenceDays, setShowAbsenceDays] = useState(false);\n\n  useEffect(() => {\n    if (!user || user.role !== 'admin') {\n      navigate('/login');\n    }\n  }, [user, navigate]);\n\n  const filteredReports = useMemo(() => {\n    let filtered = reports;\n    if (showSingleFingerprint) {\n      filtered = filtered.filter(report => report.isSingleFingerprint === 'نعم');\n    }\n    if (showAbsenceDays) {\n      filtered = filtered.filter(report => report.absence === 'نعم');\n    }\n    return filtered;\n  }, [reports, showSingleFingerprint, showAbsenceDays]);\n\n  const isWeeklyLeaveDay = (date, workDaysPerWeek) => {\n    const dayOfWeek = DateTime.fromJSDate(date, { zone: 'Africa/Cairo' }).weekday;\n    return (\n      (workDaysPerWeek === 5 && (dayOfWeek === 5 || dayOfWeek === 6)) ||\n      (workDaysPerWeek === 6 && dayOfWeek === 5)\n    );\n  };\n\n  const calculateTotals = () => {\n    const totals = filteredReports.reduce(\n      (acc, report) => {\n        const isWeeklyLeave = isWeeklyLeaveDay(new Date(report.date), report.workDaysPerWeek || 5);\n        const isWorkDay =\n          !isWeeklyLeave &&\n          report.absence === 'لا' &&\n          report.annualLeave === 'لا' &&\n          report.medicalLeave === 'لا';\n        const isAbsenceDay = report.absence === 'نعم';\n\n        acc.totalWorkHours += report.workHours || 0;\n        acc.totalWorkDays += isWorkDay ? 1 : 0;\n        acc.totalAbsenceDays += isAbsenceDay ? 1 : 0;\n        acc.totalDeductions +=\n          (report.lateDeduction || 0) +\n          (report.earlyLeaveDeduction || 0) +\n          (report.medicalLeaveDeduction || 0);\n        acc.totalOvertime += report.overtime || 0;\n        acc.totalWeeklyLeaveDays += isWeeklyLeave ? 1 : 0;\n        acc.totalAnnualLeaveDays += report.annualLeave === 'نعم' ? 1 : 0;\n        acc.totalMedicalLeaveDays += report.medicalLeave === 'نعم' ? 1 : 0;\n        acc.totalLateMinutes += report.lateMinutes || 0;\n        acc.annualLeaveBalance = report.annualLeaveBalance || 21; // Default, should be fetched from backend\n\n        return acc;\n      },\n      {\n        totalWorkHours: 0,\n        totalWorkDays: 0,\n        totalAbsenceDays: 0,\n        totalDeductions: 0,\n        totalOvertime: 0,\n        totalWeeklyLeaveDays: 0,\n        totalAnnualLeaveDays: 0,\n        totalMedicalLeaveDays: 0,\n        totalLateMinutes: 0,\n        annualLeaveBalance: 21, // Default, should be fetched from backend\n      }\n    );\n\n    return {\n      totalWorkHours: totals.totalWorkHours.toFixed(2),\n      totalWorkDays: totals.totalWorkDays,\n      totalAbsenceDays: totals.totalAbsenceDays,\n      totalDeductions: totals.totalDeductions.toFixed(2),\n      totalOvertime: totals.totalOvertime.toFixed(2),\n      totalWeeklyLeaveDays: totals.totalWeeklyLeaveDays,\n      totalAnnualLeaveDays: totals.totalAnnualLeaveDays,\n      totalMedicalLeaveDays: totals.totalMedicalLeaveDays,\n      totalLateMinutes: totals.totalLateMinutes,\n      annualLeaveBalance: totals.annualLeaveBalance,\n    };\n  };\n\n  const totals = calculateTotals();\n\n  if (!user || user.role !== 'admin') return null;\n\n  const handleFileChange = (e) => setFile(e.target.files[0]);\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    if (!file) return alert('يرجى اختيار ملف أولاً');\n    setLoading(true);\n    const fd = new FormData();\n    fd.append('file', file);\n    try {\n      const res = await axios.post(\n        `${API_URL}/api/fingerprints/upload`,\n        fd,\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n      );\n      setReports(res.data.reports);\n      setFile(null);\n      alert('تم رفع الملف وتحديث البيانات بنجاح');\n    } catch (err) {\n      console.error('Error uploading file:', err.response?.data?.error || err.message);\n      alert(`خطأ أثناء رفع الملف: ${err.response?.data?.error || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = async () => {\n    if (dateFrom && dateTo && DateTime.fromISO(dateFrom) > DateTime.fromISO(dateTo)) {\n      alert('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await axios.get(\n        `${API_URL}/api/fingerprints`,\n        {\n          params: { code: searchCode, dateFrom, dateTo },\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        }\n      );\n      let reports = res.data.reports;\n      const startDate = DateTime.fromISO(dateFrom, { zone: 'Africa/Cairo' });\n      const endDate = DateTime.fromISO(dateTo, { zone: 'Africa/Cairo' });\n\n      if (startDate.isValid && endDate.isValid && searchCode) {\n        const user = await axios.get(\n          `${API_URL}/api/users/${searchCode}`,\n          { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n        ).then(res => res.data.user).catch(() => null);\n\n        const workDaysPerWeek = user?.workDaysPerWeek || 5;\n        let currentDate = startDate;\n        const allReports = [];\n\n        while (currentDate <= endDate) {\n          const dateStr = currentDate.toISODate();\n          const existingReport = reports.find(\n            r => r.code === searchCode && DateTime.fromISO(r.date).toISODate() === dateStr\n          );\n\n          if (!existingReport) {\n            const isWeeklyLeave = isWeeklyLeaveDay(currentDate.toJSDate(), workDaysPerWeek);\n            const report = {\n              code: searchCode,\n              date: dateStr,\n              checkIn: null,\n              checkOut: null,\n              workHours: 0,\n              overtime: 0,\n              lateMinutes: 0,\n              lateDeduction: 0,\n              earlyLeaveDeduction: isWeeklyLeave ? 0 : 1,\n              absence: isWeeklyLeave ? 'لا' : 'نعم',\n              annualLeave: 'لا',\n              medicalLeave: 'لا',\n              medicalLeaveDeduction: 0,\n              isSingleFingerprint: '',\n              workDaysPerWeek,\n              weeklyLeaveDays: isWeeklyLeave ? 1 : 0,\n              employeeName: user?.fullName || `موظف ${searchCode || 'غير معروف'}`,\n              monthlyLateAllowance: user?.monthlyLateAllowance || 120, // Default, should be fetched from backend\n              totalAnnualLeave: user?.totalAnnualLeave || 0,\n              annualLeaveBalance: user?.annualLeaveBalance || 21, // Default, should be fetched from backend\n            };\n            allReports.push(report);\n          } else {\n            allReports.push({\n              ...existingReport,\n              workHours: (existingReport.checkIn || existingReport.checkOut) ? 8 : 0, // Assumption: single fingerprint counts as 8 hours\n              absence: (existingReport.checkIn || existingReport.checkOut) ? 'لا' : existingReport.absence,\n              employeeName: user?.fullName || `موظف ${searchCode || 'غير معروف'}`,\n            });\n          }\n          currentDate = currentDate.plus({ days: 1 });\n        }\n        reports = allReports.sort((a, b) => new Date(a.date) - new Date(b.date));\n      }\n\n      setReports(reports);\n    } catch (err) {\n      console.error('Error searching reports:', err.response?.data?.error || err.message);\n      alert(`خطأ أثناء البحث: ${err.response?.data?.error || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleShowAll = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(\n        `${API_URL}/api/fingerprints`,\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        }\n      );\n      setReports(res.data.reports);\n      setSearchCode('');\n      setDateFrom('');\n      setDateTo('');\n    } catch (err) {\n      console.error('Error fetching all reports:', err.response?.data?.error || err.message);\n      alert(`خطأ أثناء جلب جميع السجلات: ${err.response?.data?.error || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteAllFingerprints = async () => {\n    if (!window.confirm('هل أنت متأكد من حذف جميع سجلات البصمات؟ هذه العملية لا يمكن التراجع عنها!')) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await axios.delete(\n        `${API_URL}/api/fingerprints/all`,\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n      );\n      setReports([]);\n      alert(`تم حذف ${res.data.deletedCount} سجل بصمة بنجاح`);\n    } catch (err) {\n      console.error('Error deleting all fingerprints:', err.response?.data?.error || err.message);\n      alert(`خطأ أثناء الحذف: ${err.response?.data?.error || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditReport = async (report) => {\n    try {\n      console.log('Editing report:', report);\n\n      // تحضير البيانات\n      const reportData = {\n        code: report.code,\n        date: report.date,\n        checkIn: report.checkIn && report.checkIn !== '' ? report.checkIn : null,\n        checkOut: report.checkOut && report.checkOut !== '' ? report.checkOut : null,\n        absence: report.annualLeave || report.medicalLeave ? false : report.absence === true || report.absence === 'نعم',\n        annualLeave: report.annualLeave === true || report.annualLeave === 'نعم',\n        medicalLeave: report.medicalLeave === true || report.medicalLeave === 'نعم',\n      };\n\n      // التحقق من تنسيق الوقت إذا كان موجودًا\n      const timeRegex = /^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n      if (reportData.checkIn && !timeRegex.test(reportData.checkIn)) {\n        throw new Error('تنسيق وقت الحضور غير صالح، يجب أن يكون HH:mm:ss');\n      }\n      if (reportData.checkOut && !timeRegex.test(reportData.checkOut)) {\n        throw new Error('تنسيق وقت الانصراف غير صالح، يجب أن يكون HH:mm:ss');\n      }\n\n      let response;\n      if (report._id) {\n        // تحديث سجل موجود\n        console.log(`Updating existing fingerprint with ID: ${report._id}`);\n        response = await axios.put(\n          `${API_URL}/api/fingerprints/${report._id}`,\n          reportData,\n          { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n        );\n      } else {\n        // التحقق أولاً إذا كان هناك سجل بنفس الكود والتاريخ\n        const existingReport = await axios.get(\n          `${API_URL}/api/fingerprints`,\n          {\n            params: { code: reportData.code, dateFrom: reportData.date, dateTo: reportData.date },\n            headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n          }\n        ).then(res => res.data.reports.find(r => r.date === reportData.date));\n\n        if (existingReport) {\n          // تحديث السجل الموجود\n          console.log(`Found existing report for ${reportData.code} on ${reportData.date}, updating...`);\n          response = await axios.put(\n            `${API_URL}/api/fingerprints/${existingReport._id}`,\n            reportData,\n            { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n          );\n        } else {\n          // إنشاء سجل جديد\n          console.log('Creating new fingerprint');\n          response = await axios.post(\n            `${API_URL}/api/fingerprints`,\n            reportData,\n            { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n          );\n        }\n      }\n\n      // تحديث التقارير في الواجهة الأمامية\n      setReports((prev) =>\n        prev.map((r) =>\n          r.date === response.data.report.date && r.code === response.data.report.code\n            ? { ...response.data.report }\n            : r\n        )\n      );\n      alert(response.data.message);\n      await handleSearch(); // إعادة تحميل البيانات بعد التعديل\n    } catch (error) {\n      console.error('Error updating/creating report:', error.response?.data?.error || error.message);\n      alert(`خطأ في تعديل/إنشاء السجل: ${error.response?.data?.error || error.message}`);\n    }\n  };\n\n  const handleCreateMission = async (e) => {\n    e.preventDefault();\n    setMissionLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const missionDate = DateTime.fromISO(missionDetails.date, { zone: 'Africa/Cairo' });\n      if (!missionDate.isValid) {\n        throw new Error('تاريخ المأمورية غير صالح');\n      }\n\n      const timeRegex = /^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n      if (\n        missionDetails.checkIn &&\n        missionDetails.checkIn !== '' &&\n        !timeRegex.test(missionDetails.checkIn)\n      ) {\n        throw new Error('تنسيق وقت الحضور غير صالح، يجب أن يكون HH:mm:ss');\n      }\n      if (\n        missionDetails.checkOut &&\n        missionDetails.checkOut !== '' &&\n        !timeRegex.test(missionDetails.checkOut)\n      ) {\n        throw new Error('تنسيق وقت الانصراف غير صالح، يجب أن يكون HH:mm:ss');\n      }\n\n      const checkIn = missionDetails.checkIn\n        ? DateTime.fromFormat(\n            `${missionDetails.date} ${missionDetails.checkIn}`,\n            'yyyy-MM-dd HH:mm:ss',\n            { zone: 'Africa/Cairo' }\n          ).toJSDate()\n        : null;\n      const checkOut = missionDetails.checkOut\n        ? DateTime.fromFormat(\n            `${missionDetails.date} ${missionDetails.checkOut}`,\n            'yyyy-MM-dd HH:mm:ss',\n            { zone: 'Africa/Cairo' }\n          ).toJSDate()\n        : null;\n\n      const workHours = checkIn && checkOut ? 8 : 0; // Assumption: mission counts as 8 hours if both times are provided\n\n      const response = await axios.post(\n        `${API_URL}/api/fingerprints/mission`,\n        {\n          code: missionDetails.code,\n          date: missionDetails.date,\n          checkIn: missionDetails.checkIn || null,\n          checkOut: missionDetails.checkOut || null,\n          missionType: missionDetails.missionType,\n          description: missionDetails.description,\n        },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      setReports((prev) => [\n        ...prev.filter((r) => r._id !== response.data.report._id),\n        {\n          ...response.data.report,\n          workHours,\n          absence: 'لا',\n          annualLeave: 'لا',\n          medicalLeave: 'لا',\n        },\n      ]);\n      setIsCreatingMission(false);\n      setMissionDetails({\n        code: '',\n        date: '',\n        checkIn: '',\n        checkOut: '',\n        missionType: 'مهمة رسمية',\n        description: '',\n      });\n      alert('تم إنشاء المأمورية بنجاح');\n    } catch (err) {\n      console.error('Error creating mission:', err.response?.data?.error || err.message);\n      alert(`خطأ أثناء إنشاء المأمورية: ${err.response?.data?.error || err.message}`);\n    } finally {\n      setMissionLoading(false);\n    }\n  };\n\n  const handleCreateMedicalLeave = async (e) => {\n    e.preventDefault();\n    setMedicalLeaveLoading(true);\n    try {\n      const startDate = DateTime.fromISO(medicalLeaveDetails.dateFrom, { zone: 'Africa/Cairo' });\n      const endDate = DateTime.fromISO(medicalLeaveDetails.dateTo, { zone: 'Africa/Cairo' });\n\n      if (!startDate.isValid || !endDate.isValid) {\n        throw new Error('تاريخ البداية أو النهاية غير صالح');\n      }\n\n      if (startDate > endDate) {\n        throw new Error('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      }\n\n      const response = await axios.post(\n        `${API_URL}/api/fingerprints/medical-leave`,\n        {\n          code: medicalLeaveDetails.code,\n          dateFrom: medicalLeaveDetails.dateFrom,\n          dateTo: medicalLeaveDetails.dateTo,\n        },\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n      );\n\n      setReports((prev) => [\n        ...prev.filter((r) => !response.data.reports.some((newR) => newR._id === r._id)),\n        ...response.data.reports,\n      ]);\n      setIsCreatingMedicalLeave(false);\n      setMedicalLeaveDetails({ code: '', dateFrom: '', dateTo: '' });\n      alert('تم إنشاء الإجازة الطبية بنجاح');\n    } catch (err) {\n      console.error('Error creating medical leave:', err.response?.data?.error || err.message);\n      alert(`خطأ أثناء إنشاء الإجازة الطبية: ${err.response?.data?.error || err.message}`);\n    } finally {\n      setMedicalLeaveLoading(false);\n    }\n  };\n\n  const handleMissionChange = (e) => {\n    const { name, value } = e.target;\n    setMissionDetails((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleMedicalLeaveChange = (e) => {\n    const { name, value } = e.target;\n    setMedicalLeaveDetails((prev) => ({ ...prev, [name]: value }));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <NavBar />\n      <div className=\"container mx-auto p-6\">\n        {/* قسم رفع ملف البصمات */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-6\"\n        >\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-4 text-right\">رفع ملف البصمات</h2>\n          <form onSubmit={handleUpload} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                اختر ملف Excel\n              </label>\n              <input\n                type=\"file\"\n                accept=\".xlsx, .xls\"\n                onChange={handleFileChange}\n                className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                aria-label=\"رفع ملف Excel\"\n              />\n            </div>\n            <motion.button\n              type=\"submit\"\n              disabled={loading || !file}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className={`bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 ${\n                loading || !file ? 'opacity-50 cursor-not-allowed' : ''\n              }`}\n            >\n              {loading ? 'جارٍ الرفع...' : 'رفع الملف'}\n            </motion.button>\n          </form>\n        </motion.div>\n\n        {/* قسم البحث */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n          className=\"bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-6\"\n        >\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-4 text-right\">البحث في التقارير</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                كود الموظف\n              </label>\n              <input\n                type=\"text\"\n                value={searchCode}\n                onChange={(e) => setSearchCode(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                placeholder=\"أدخل كود الموظف\"\n                aria-label=\"كود الموظف\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                من تاريخ\n              </label>\n              <input\n                type=\"date\"\n                value={dateFrom}\n                onChange={(e) => setDateFrom(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                aria-label=\"من تاريخ\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                إلى تاريخ\n              </label>\n              <input\n                type=\"date\"\n                value={dateTo}\n                onChange={(e) => setDateTo(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                aria-label=\"إلى تاريخ\"\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-4 mt-4\">\n            <motion.button\n              onClick={handleSearch}\n              disabled={loading}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className={`bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 ${\n                loading ? 'opacity-50 cursor-not-allowed' : ''\n              }`}\n            >\n              {loading ? 'جارٍ البحث...' : 'بحث'}\n            </motion.button>\n            <motion.button\n              onClick={handleShowAll}\n              disabled={loading}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className={`bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors duration-300 ${\n                loading ? 'opacity-50 cursor-not-allowed' : ''\n              }`}\n            >\n              {loading ? 'جارٍ الجلب...' : 'عرض الكل'}\n            </motion.button>\n            <motion.button\n              onClick={() => setIsCreatingMission(true)}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors duration-300\"\n            >\n              إنشاء مأمورية\n            </motion.button>\n            <motion.button\n              onClick={() => setIsCreatingMedicalLeave(true)}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 transition-colors duration-300\"\n            >\n              إضافة إجازة طبية\n            </motion.button>\n            <motion.button\n              onClick={handleDeleteAllFingerprints}\n              disabled={loading}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className={`bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors duration-300 ${\n                loading ? 'opacity-50 cursor-not-allowed' : ''\n              }`}\n            >\n              حذف جميع البصمات\n            </motion.button>\n          </div>\n          <div className=\"flex justify-end gap-4 mt-4\">\n            <label className=\"flex items-center text-gray-700 text-sm font-medium\">\n              <input\n                type=\"checkbox\"\n                checked={showSingleFingerprint}\n                onChange={() => setShowSingleFingerprint(!showSingleFingerprint)}\n                className=\"mr-2\"\n                aria-label=\"عرض البصمات الفردية فقط\"\n              />\n              عرض البصمات الفردية فقط\n            </label>\n            <label className=\"flex items-center text-gray-700 text-sm font-medium\">\n              <input\n                type=\"checkbox\"\n                checked={showAbsenceDays}\n                onChange={() => setShowAbsenceDays(!showAbsenceDays)}\n                className=\"mr-2\"\n                aria-label=\"عرض أيام الغياب فقط\"\n              />\n              عرض أيام الغياب فقط\n            </label>\n          </div>\n        </motion.div>\n\n        {/* نموذج إنشاء مأمورية */}\n        <AnimatePresence>\n          {isCreatingMission && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.8 }}\n              className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n            >\n              <motion.div\n                className=\"bg-white p-6 rounded-xl shadow-lg w-full max-w-md\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                <h2 className=\"text-xl font-semibold text-gray-700 mb-4 text-right\">إنشاء مأمورية</h2>\n                <form onSubmit={handleCreateMission} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      كود الموظف\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"code\"\n                      value={missionDetails.code}\n                      onChange={handleMissionChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      required\n                      aria-label=\"كود الموظف\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      تاريخ المأمورية\n                    </label>\n                    <input\n                      type=\"date\"\n                      name=\"date\"\n                      value={missionDetails.date}\n                      onChange={handleMissionChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      required\n                      aria-label=\"تاريخ المأمورية\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      توقيت الحضور\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"checkIn\"\n                      value={missionDetails.checkIn}\n                      onChange={handleMissionChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      placeholder=\"HH:mm:ss\"\n                      aria-label=\"توقيت الحضور\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      توقيت الانصراف\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"checkOut\"\n                      value={missionDetails.checkOut}\n                      onChange={handleMissionChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      placeholder=\"HH:mm:ss\"\n                      aria-label=\"توقيت الانصراف\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      نوع المأمورية\n                    </label>\n                    <select\n                      name=\"missionType\"\n                      value={missionDetails.missionType}\n                      onChange={handleMissionChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      aria-label=\"نوع المأمورية\"\n                    >\n                      <option value=\"مهمة رسمية\">مهمة رسمية</option>\n                      <option value=\"تدريب\">تدريب</option>\n                      <option value=\"أخرى\">أخرى</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      الوصف\n                    </label>\n                    <textarea\n                      name=\"description\"\n                      value={missionDetails.description}\n                      onChange={handleMissionChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      rows=\"4\"\n                      aria-label=\"وصف المأمورية\"\n                    />\n                  </div>\n                  <div className=\"flex justify-end gap-4\">\n                    <motion.button\n                      type=\"submit\"\n                      disabled={missionLoading}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className={`bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 ${\n                        missionLoading ? 'opacity-50 cursor-not-allowed' : ''\n                      }`}\n                    >\n                      {missionLoading ? 'جارٍ الإنشاء...' : 'إنشاء'}\n                    </motion.button>\n                    <motion.button\n                      type=\"button\"\n                      onClick={() => setIsCreatingMission(false)}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300\"\n                    >\n                      إلغاء\n                    </motion.button>\n                  </div>\n                </form>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* نموذج إضافة إجازة طبية */}\n        <AnimatePresence>\n          {isCreatingMedicalLeave && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.8 }}\n              className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n            >\n              <motion.div\n                className=\"bg-white p-6 rounded-xl shadow-lg w-full max-w-md\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                <h2 className=\"text-xl font-semibold text-gray-700 mb-4 text-right\">إضافة إجازة طبية</h2>\n                <form onSubmit={handleCreateMedicalLeave} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      كود الموظف\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"code\"\n                      value={medicalLeaveDetails.code}\n                      onChange={handleMedicalLeaveChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      required\n                      aria-label=\"كود الموظف\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      من تاريخ\n                    </label>\n                    <input\n                      type=\"date\"\n                      name=\"dateFrom\"\n                      value={medicalLeaveDetails.dateFrom}\n                      onChange={handleMedicalLeaveChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      required\n                      aria-label=\"من تاريخ\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      إلى تاريخ\n                    </label>\n                    <input\n                      type=\"date\"\n                      name=\"dateTo\"\n                      value={medicalLeaveDetails.dateTo}\n                      onChange={handleMedicalLeaveChange}\n                      className=\"w-full px-3 py-2 border rounded-lg text-right\"\n                      required\n                      aria-label=\"إلى تاريخ\"\n                    />\n                  </div>\n                  <div className=\"flex justify-end gap-4\">\n                    <motion.button\n                      type=\"submit\"\n                      disabled={medicalLeaveLoading}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className={`bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 ${\n                        medicalLeaveLoading ? 'opacity-50 cursor-not-allowed' : ''\n                      }`}\n                    >\n                      {medicalLeaveLoading ? 'جارٍ الإنشاء...' : 'إنشاء'}\n                    </motion.button>\n                    <motion.button\n                      type=\"button\"\n                      onClick={() => setIsCreatingMedicalLeave(false)}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300\"\n                    >\n                      إلغاء\n                    </motion.button>\n                  </div>\n                </form>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* جدول التقارير */}\n        {filteredReports.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.4 }}\n            className=\"bg-white p-6 rounded-xl shadow-md border border-gray-100 mb-6\"\n          >\n            <h2 className=\"text-xl font-semibold text-gray-700 mb-4 text-right\">التقارير</h2>\n            <ReportTable reports={filteredReports} onEdit={handleEditReport} />\n            <div className=\"mt-6 text-right\">\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">إجماليات الفترة</h3>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg shadow-inner\">\n                <div className=\"bg-blue-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي ساعات العمل</p>\n                  <p className=\"text-lg font-bold text-blue-700\">{totals.totalWorkHours} ساعة</p>\n                </div>\n                <div className=\"bg-green-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي أيام العمل</p>\n                  <p className=\"text-lg font-bold text-green-700\">{totals.totalWorkDays} يوم</p>\n                </div>\n                <div className=\"bg-red-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي أيام الغياب</p>\n                  <p className=\"text-lg font-bold text-red-700\">{totals.totalAbsenceDays} يوم</p>\n                </div>\n                <div className=\"bg-yellow-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي الخصومات</p>\n                  <p className=\"text-lg font-bold text-yellow-700\">{totals.totalDeductions} يوم</p>\n                </div>\n                <div className=\"bg-orange-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي دقائق التأخير</p>\n                  <p className=\"text-lg font-bold text-orange-700\">{totals.totalLateMinutes} دقيقة</p>\n                </div>\n                <div className=\"bg-purple-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي الساعات الإضافية</p>\n                  <p className=\"text-lg font-bold text-purple-700\">{totals.totalOvertime} ساعة</p>\n                </div>\n                <div className=\"bg-indigo-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي أيام الإجازة الأسبوعية</p>\n                  <p className=\"text-lg font-bold text-indigo-700\">{totals.totalWeeklyLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-teal-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي أيام الإجازة السنوية (الفترة)</p>\n                  <p className=\"text-lg font-bold text-teal-700\">{totals.totalAnnualLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-pink-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">إجمالي أيام الإجازة الطبية</p>\n                  <p className=\"text-lg font-bold text-pink-700\">{totals.totalMedicalLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-gray-100 p-4 rounded-lg text-right\">\n                  <p className=\"text-sm font-medium text-gray-600\">رصيد الإجازات السنوية</p>\n                  <p className=\"text-lg font-bold text-gray-700\">{totals.annualLeaveBalance} يوم</p>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UploadFingerprint;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}