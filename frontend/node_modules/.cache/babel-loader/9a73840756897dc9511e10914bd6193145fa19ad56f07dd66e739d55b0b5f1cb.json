{"ast":null,"code":"import _objectSpread from\"/root/app/salary-6/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext,useEffect}from'react';import{useNavigate}from'react-router-dom';import{AuthContext}from'../components/AuthProvider';import NavBar from'../components/NavBar';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{DateTime}from'luxon';import*as XLSX from'xlsx';import{Document,Packer,Paragraph,Table,TableCell,TableRow,WidthType,TextRun,ShadingType}from'docx';import{saveAs}from'file-saver';import{SettingsIcon}from'lucide-react';// مكون علامة الصح\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SuccessCheckmark=_ref=>{let{onComplete}=_ref;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1,transition:{duration:0.5}},exit:{opacity:0,scale:0.5},onAnimationComplete:onComplete,className:\"fixed inset-0 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(motion.div,{animate:{scale:[1,1.1,1],transition:{duration:1.5,repeat:Infinity,repeatType:'loop'}},className:\"bg-gradient-to-br from-green-400 to-emerald-300 p-8 rounded-full shadow-lg w-28 h-28 sm:w-32 sm:h-32 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(motion.path,{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"3\",d:\"M5 13l4 4L19 7\",initial:{pathLength:0},animate:{pathLength:1,transition:{duration:0.8}}})})})});};// مكون مؤشر التحميل\nconst LoadingSpinner=()=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-12 h-12 sm:w-16 sm:h-16 border-4 border-t-transparent border-sky-400 rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute inset-0 flex items-center justify-center text-gray-200 text-sm sm:text-base\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]})});const MonthlyBonusReport=()=>{const{user:currentUser}=useContext(AuthContext);const navigate=useNavigate();const[searchCode,setSearchCode]=useState((currentUser===null||currentUser===void 0?void 0:currentUser.role)!=='admin'?(currentUser===null||currentUser===void 0?void 0:currentUser.code)||'':'');const[dateFrom,setDateFrom]=useState('');const[dateTo,setDateTo]=useState('');const[users,setUsers]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[showSuccess,setShowSuccess]=useState(false);const[editingUser,setEditingUser]=useState(null);const[editForm,setEditForm]=useState({});useEffect(()=>{if(!currentUser){navigate('/login');}else if(currentUser.role!=='admin'){setSearchCode(currentUser.code||'');}console.log('Current User:',currentUser);// Log للتحقق من بيانات المستخدم\n},[currentUser,navigate]);const triggerSuccessAnimation=()=>{setShowSuccess(true);setTimeout(()=>setShowSuccess(false),3000);};const calculateNetBonus=(user,absences,tieUpValue,productionValue,advances,deductions)=>{const baseBonus=Number(user.baseBonus||0);const bonusPercentage=Number(user.bonusPercentage||0);const bonus=baseBonus*(1+bonusPercentage/100);const dailyBonus=bonus/30;const absenceDeduction=Number(absences||0)*dailyBonus;const adjustedBonus=bonus-absenceDeduction;const netBonus=adjustedBonus+Number(tieUpValue||0)+Number(productionValue||0)-Number(advances||0)-Number(deductions||0);return Math.max(0,netBonus).toFixed(2);};const handleSearch=async()=>{if(!dateFrom||!dateTo){setError('يرجى إدخال تاريخ البداية والنهاية');return;}const startDate=DateTime.fromISO(dateFrom,{zone:'Africa/Cairo'}).startOf('day');const endDate=DateTime.fromISO(dateTo,{zone:'Africa/Cairo'}).endOf('day');if(!startDate.isValid||!endDate.isValid){setError('تاريخ البداية أو النهاية غير صالح');return;}if(startDate>endDate){setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');return;}setLoading(true);setError('');try{const endpoint=currentUser.role==='admin'?'/api/bonus-reports':'/api/bonus-reports/me';const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL).concat(endpoint),{params:_objectSpread({dateFrom:startDate.toISODate(),dateTo:endDate.toISODate()},currentUser.role==='admin'&&searchCode&&{code:searchCode}),headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});const reportData=currentUser.role==='admin'?Array.isArray(response.data.reports)?response.data.reports:[response.data]:[response.data.report];setUsers(reportData.map(report=>_objectSpread(_objectSpread({},report),{},{employeeName:report.employeeName||'غير معروف',department:report.department||'',baseBonus:Number(report.baseBonus||0),bonusPercentage:Number(report.bonusPercentage||0),workDaysPerWeek:Number(report.workDaysPerWeek||6),totalWorkDays:Number(report.totalWorkDays||0),absences:Number(report.absences||0),annualLeave:Number(report.annualLeave||0),totalLeaveDays:Number(report.totalLeaveDays||0),tieUpValue:Number(report.tieUpValue||0),productionValue:Number(report.productionValue||0),advances:Number(report.advances||0),deductions:Number(report.deductions||0),netBonus:Number(report.netBonus||0),dateFrom:DateTime.fromJSDate(new Date(report.dateFrom)).toISODate(),dateTo:DateTime.fromJSDate(new Date(report.dateTo)).toISODate()})));triggerSuccessAnimation();}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.details)||err.message;console.error('Error fetching data:',errorMsg);setError(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u062C\\u0644\\u0628 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A: \".concat(errorMsg));setUsers([]);}finally{setLoading(false);}};const handleShowAll=async()=>{if(!dateFrom||!dateTo){setError('يرجى تحديد تاريخ البداية والنهاية');return;}const startDate=DateTime.fromISO(dateFrom,{zone:'Africa/Cairo'}).startOf('day');const endDate=DateTime.fromISO(dateTo,{zone:'Africa/Cairo'}).endOf('day');if(!startDate.isValid||!endDate.isValid){setError('تاريخ البداية أو النهاية غير صالح');return;}if(startDate>endDate){setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');return;}if(currentUser.role!=='admin'){setError('عرض جميع التقارير متاح فقط للإداريين');return;}setLoading(true);setError('');try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/bonus-reports\"),{params:{dateFrom:startDate.toISODate(),dateTo:endDate.toISODate()},headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});const reportData=Array.isArray(response.data.reports)?response.data.reports:[response.data];setUsers(reportData.map(report=>_objectSpread(_objectSpread({},report),{},{employeeName:report.employeeName||'غير معروف',department:report.department||'',baseBonus:Number(report.baseBonus||0),bonusPercentage:Number(report.bonusPercentage||0),workDaysPerWeek:Number(report.workDaysPerWeek||6),totalWorkDays:Number(report.totalWorkDays||0),absences:Number(report.absences||0),annualLeave:Number(report.annualLeave||0),totalLeaveDays:Number(report.totalLeaveDays||0),tieUpValue:Number(report.tieUpValue||0),productionValue:Number(report.productionValue||0),advances:Number(report.advances||0),deductions:Number(report.deductions||0),netBonus:Number(report.netBonus||0),dateFrom:DateTime.fromJSDate(new Date(report.dateFrom)).toISODate(),dateTo:DateTime.fromJSDate(new Date(report.dateTo)).toISODate()})));setSearchCode('');triggerSuccessAnimation();}catch(err){var _err$response3,_err$response3$data,_err$response4,_err$response4$data;const errorMsg=((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.details)||err.message;console.error('Error fetching all data:',errorMsg);setError(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u062C\\u0644\\u0628 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A: \".concat(errorMsg));setUsers([]);}finally{setLoading(false);}};const handleEditClick=userData=>{if(currentUser.role!=='admin'){setError('التعديل متاح فقط للإداريين');return;}setEditingUser(userData);setEditForm({code:userData.code,tieUpValue:Number(userData.tieUpValue||0).toFixed(2),productionValue:Number(userData.productionValue||0).toFixed(2),advances:Number(userData.advances||0).toFixed(2),deductions:Number(userData.deductions||0).toFixed(2),netBonus:Number(userData.netBonus||0).toFixed(2)});setError('');};const handleEditChange=e=>{const{name,value}=e.target;setEditForm(prev=>{const updatedForm=_objectSpread(_objectSpread({},prev),{},{[name]:value});const netBonus=calculateNetBonus(editingUser,editingUser.absences,Number(updatedForm.tieUpValue)||0,Number(updatedForm.productionValue)||0,Number(updatedForm.advances)||0,Number(updatedForm.deductions)||0);return _objectSpread(_objectSpread({},updatedForm),{},{netBonus});});};const handleEditSubmit=async e=>{e.preventDefault();if(currentUser.role!=='admin'){setError('التعديل متاح فقط للإداريين');return;}if(!dateFrom||!dateTo){setError('تاريخ البداية والنهاية مطلوبان');return;}const startDate=DateTime.fromISO(dateFrom,{zone:'Africa/Cairo'}).startOf('day');const endDate=DateTime.fromISO(dateTo,{zone:'Africa/Cairo'}).endOf('day');if(!startDate.isValid||!endDate.isValid){setError('تاريخ البداية أو النهاية غير صالح');return;}if(startDate>endDate){setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');return;}setLoading(true);setError('');try{const{tieUpValue,productionValue,advances,deductions}=editForm;if(Number(tieUpValue)<0){setError('قيمة التربيط لا يمكن أن تكون سالبة');return;}if(Number(productionValue)<0){setError('قيمة الإنتاج لا يمكن أن تكون سالبة');return;}if(Number(advances)<0){setError('السلف لا يمكن أن تكون سالبة');return;}if(Number(deductions)<0){setError('الاستقطاعات لا يمكن أن تكون سالبة');return;}const response=await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/bonus-reports/\").concat(editForm.code),{code:editForm.code,tieUpValue:Number(tieUpValue),productionValue:Number(productionValue),advances:Number(advances),deductions:Number(deductions),dateFrom:startDate.toISODate(),dateTo:endDate.toISODate()},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setUsers(prev=>prev.map(u=>u.code===editForm.code&&u.dateFrom===startDate.toISODate()&&u.dateTo===endDate.toISODate()?_objectSpread(_objectSpread({},u),{},{tieUpValue:Number(response.data.report.tieUpValue||u.tieUpValue),productionValue:Number(response.data.report.productionValue||u.productionValue),advances:Number(response.data.report.advances||u.advances),deductions:Number(response.data.report.deductions||u.deductions),netBonus:Number(response.data.report.netBonus||u.netBonus)}):u));console.log(\"Updated report for code \".concat(editForm.code,\":\"),response.data.report);setEditingUser(null);setEditForm({});triggerSuccessAnimation();}catch(err){var _err$response5,_err$response5$data,_err$response6,_err$response6$data;const errorMsg=((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.details)||err.message;console.error('Error updating report:',errorMsg);setError(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644: \".concat(errorMsg));}finally{setLoading(false);}};const handleEditCancel=()=>{setEditingUser(null);setEditForm({});setError('');};const handleSaveReport=async()=>{if(currentUser.role!=='admin'){setError('حفظ التقرير متاح فقط للإداريين');return;}if(!dateFrom||!dateTo){setError('تاريخ البداية والنهاية مطلوبان');return;}const startDate=DateTime.fromISO(dateFrom,{zone:'Africa/Cairo'}).startOf('day');const endDate=DateTime.fromISO(dateTo,{zone:'Africa/Cairo'}).endOf('day');if(!startDate.isValid||!endDate.isValid){setError('تاريخ البداية أو النهاية غير صالح');return;}if(startDate>endDate){setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');return;}setLoading(true);setError('');try{await Promise.all(users.map(user=>axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/bonus-reports\"),{code:user.code,tieUpValue:Number(user.tieUpValue),productionValue:Number(user.productionValue),advances:Number(user.advances),deductions:Number(user.deductions),dateFrom:startDate.toISODate(),dateTo:endDate.toISODate()},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}})));console.log(\"Saved reports for period \".concat(startDate.toISODate(),\" to \").concat(endDate.toISODate()));triggerSuccessAnimation();}catch(err){var _err$response7,_err$response7$data,_err$response8,_err$response8$data;const errorMsg=((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.error)||((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.details)||err.message;console.error('Error saving report:',errorMsg);setError(\"\\u062E\\u0637\\u0623 \\u0623\\u062B\\u0646\\u0627\\u0621 \\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631: \".concat(errorMsg));}finally{setLoading(false);}};const handleExportExcel=()=>{const headers=['صافي الحافز','الاستقطاعات','السلف','قيمة الإنتاج','قيمة التربيط','إجمالي الإجازات','الإجازة السنوية','الغياب','إجمالي أيام العمل','أيام العمل الأسبوعية','نسبة الحافز','الحافز الأساسي',...(currentUser.role==='admin'?['القسم','الاسم','كود الموظف']:[])].reverse();const data=users.map(user=>[Number(user.netBonus||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.deductions||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.advances||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.productionValue||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.tieUpValue||0).toLocaleString('en-US',{minimumFractionDigits:2}),user.totalLeaveDays,user.annualLeave,user.absences,user.totalWorkDays,user.workDaysPerWeek,\"\".concat(Number(user.bonusPercentage||0).toFixed(2),\"%\"),Number(user.baseBonus||0).toLocaleString('en-US',{minimumFractionDigits:2}),...(currentUser.role==='admin'?[user.department,user.employeeName,user.code]:[])].reverse());const titleRow=['تقرير الحافز الشهري'];const dateRow=[\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E: \\u0645\\u0646 \".concat(DateTime.fromISO(dateFrom).toLocaleString(DateTime.DATE_FULL,{locale:'ar'}),\" \\u0625\\u0644\\u0649 \").concat(DateTime.fromISO(dateTo).toLocaleString(DateTime.DATE_FULL,{locale:'ar'}))];const sheetData=[titleRow,dateRow,[],headers,...data];const worksheet=XLSX.utils.aoa_to_sheet(sheetData);worksheet['!rtl']=true;worksheet['!freeze']={xSplit:0,ySplit:3};const colWidths=headers.map((header,i)=>{const maxLength=Math.max(header.length,...data.map(row=>String(row[i]||'').length));return{wch:Math.max(10,maxLength+2)};});worksheet['!cols']=colWidths;const range=XLSX.utils.decode_range(worksheet['!ref']);for(let row=range.s.r;row<=range.e.r;row++){for(let col=range.s.c;col<=range.e.c;col++){const cellAddress=XLSX.utils.encode_cell({r:row,c:col});if(!worksheet[cellAddress])continue;if(row===0){worksheet[cellAddress].s={font:{name:'Amiri',sz:16,bold:true},alignment:{horizontal:'right',vertical:'center'},fill:{fgColor:{rgb:'4B6587'}},color:{rgb:'FFFFFF'}};}else if(row===1){worksheet[cellAddress].s={font:{name:'Amiri',sz:12},alignment:{horizontal:'right',vertical:'center'}};}else if(row===3){worksheet[cellAddress].s={font:{name:'Amiri',sz:12,bold:true},alignment:{horizontal:'center',vertical:'center'},fill:{fgColor:{rgb:'4B6587'}},color:{rgb:'FFFFFF'},border:{top:{style:'thin',color:{rgb:'000000'}},bottom:{style:'thin',color:{rgb:'000000'}},left:{style:'thin',color:{rgb:'000000'}},right:{style:'thin',color:{rgb:'000000'}}}};}else if(row>=4){worksheet[cellAddress].s={font:{name:'Amiri',sz:11},alignment:{horizontal:'center',vertical:'center'},border:{top:{style:'thin',color:{rgb:'000000'}},bottom:{style:'thin',color:{rgb:'000000'}},left:{style:'thin',color:{rgb:'000000'}},right:{style:'thin',color:{rgb:'000000'}}},fill:{fgColor:{rgb:row%2===0?'F7F9FB':'FFFFFF'}}};if([0,1,2,3,4,11].includes(col)){worksheet[cellAddress].z='#,##0.00';}}}}worksheet['!merges']=[{s:{r:0,c:0},e:{r:0,c:headers.length-1}},{s:{r:1,c:0},e:{r:1,c:headers.length-1}}];const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,worksheet,'تقرير الحافز الشهري');XLSX.writeFile(wb,\"\\u062A\\u0642\\u0631\\u064A\\u0631_\\u0627\\u0644\\u062D\\u0627\\u0641\\u0632_\\u0627\\u0644\\u0634\\u0647\\u0631\\u064A_\".concat(dateFrom,\"_\\u0625\\u0644\\u0649_\").concat(dateTo,\".xlsx\"));};const handleExportWord=async()=>{const doc=new Document({sections:[{properties:{page:{margin:{left:720,right:720,top:720,bottom:720}}},children:[new Paragraph({children:[new TextRun({text:'تقرير الحافز الشهري',bold:true,size:24,font:'Amiri',rightToLeft:true,color:'4B6587'})],alignment:'right',spacing:{after:200}}),new Paragraph({children:[new TextRun({text:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E: \\u0645\\u0646 \".concat(DateTime.fromISO(dateFrom).toLocaleString(DateTime.DATE_FULL,{locale:'ar'}),\" \\u0625\\u0644\\u0649 \").concat(DateTime.fromISO(dateTo).toLocaleString(DateTime.DATE_FULL,{locale:'ar'})),size:20,font:'Amiri',rightToLeft:true})],alignment:'right',spacing:{after:400}}),new Table({width:{size:100,type:WidthType.PERCENTAGE},rows:[new TableRow({children:[...(currentUser.role==='admin'?['كود الموظف','الاسم','القسم']:[]),'الحافز الأساسي','نسبة الحافز','أيام العمل الأسبوعية','إجمالي أيام العمل','الغياب','الإجازة السنوية','إجمالي الإجازات','قيمة التربيط','قيمة الإنتاج','السلف','الاستقطاعات','صافي الحافز'].map(header=>new TableCell({children:[new Paragraph({children:[new TextRun({text:header,bold:true,font:'Amiri',size:20,rightToLeft:true,color:'FFFFFF'})],alignment:'center'})],width:{size:100/(currentUser.role==='admin'?15:12),type:WidthType.PERCENTAGE},margins:{top:100,bottom:100,left:100,right:100},shading:{fill:'4B6587',type:ShadingType.SOLID}}))}),...users.map((user,index)=>new TableRow({children:[...(currentUser.role==='admin'?[user.code,user.employeeName,user.department]:[]),Number(user.baseBonus||0).toLocaleString('en-US',{minimumFractionDigits:2}),\"\".concat(Number(user.bonusPercentage||0).toFixed(2),\"%\"),user.workDaysPerWeek.toString(),user.totalWorkDays.toString(),user.absences.toString(),user.annualLeave.toString(),user.totalLeaveDays.toString(),Number(user.tieUpValue||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.productionValue||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.advances||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.deductions||0).toLocaleString('en-US',{minimumFractionDigits:2}),Number(user.netBonus||0).toLocaleString('en-US',{minimumFractionDigits:2})].map(text=>new TableCell({children:[new Paragraph({children:[new TextRun({text,font:'Amiri',size:20,rightToLeft:true})],alignment:'center'})],width:{size:100/(currentUser.role==='admin'?15:12),type:WidthType.PERCENTAGE},margins:{top:100,bottom:100,left:100,right:100},shading:{fill:index%2===0?'F7F9FB':'FFFFFF',type:ShadingType.SOLID}}))})),new TableRow({children:[...(currentUser.role==='admin'?['-','الإجمالي','-']:[]),'-','-',users.reduce((sum,user)=>sum+Number(user.workDaysPerWeek||0),0).toString(),users.reduce((sum,user)=>sum+Number(user.totalWorkDays||0),0).toString(),users.reduce((sum,user)=>sum+Number(user.absences||0),0).toString(),users.reduce((sum,user)=>sum+Number(user.annualLeave||0),0).toString(),users.reduce((sum,user)=>sum+Number(user.totalLeaveDays||0),0).toString(),users.reduce((sum,user)=>sum+Number(user.tieUpValue||0),0).toLocaleString('en-US',{minimumFractionDigits:2}),users.reduce((sum,user)=>sum+Number(user.productionValue||0),0).toLocaleString('en-US',{minimumFractionDigits:2}),users.reduce((sum,user)=>sum+Number(user.advances||0),0).toLocaleString('en-US',{minimumFractionDigits:2}),users.reduce((sum,user)=>sum+Number(user.deductions||0),0).toLocaleString('en-US',{minimumFractionDigits:2}),users.reduce((sum,user)=>sum+Number(user.netBonus||0),0).toLocaleString('en-US',{minimumFractionDigits:2})].map(text=>new TableCell({children:[new Paragraph({children:[new TextRun({text,font:'Amiri',size:20,rightToLeft:true,bold:true,color:'000000'})],alignment:'center'})],width:{size:100/(currentUser.role==='admin'?15:12),type:WidthType.PERCENTAGE},margins:{top:100,bottom:100,left:100,right:100},shading:{fill:'A3BFFA',type:ShadingType.SOLID}}))})]})]}]});const blob=await Packer.toBlob(doc);saveAs(blob,\"\\u062A\\u0642\\u0631\\u064A\\u0631_\\u0627\\u0644\\u062D\\u0627\\u0641\\u0632_\\u0627\\u0644\\u0634\\u0647\\u0631\\u064A_\".concat(dateFrom,\"_\\u0625\\u0644\\u0649_\").concat(dateTo,\".docx\"));};if(!currentUser)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 flex flex-col\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4 sm:p-6 max-w-full\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:loading&&/*#__PURE__*/_jsx(LoadingSpinner,{})}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200 mb-4 sm:mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right flex items-center gap-2\",children:[/*#__PURE__*/_jsx(SettingsIcon,{className:\"h-6 w-6 text-blue-500\"}),\"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u062D\\u0627\\u0641\\u0632 \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\"]}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:\"bg-red-100 text-red-700 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 text-right text-sm sm:text-base font-medium\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchCode,onChange:e=>currentUser.role==='admin'?setSearchCode(e.target.value):null,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200 \".concat(currentUser.role!=='admin'?'bg-gray-100 cursor-not-allowed':''),placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",disabled:loading||currentUser.role!=='admin'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFrom,onChange:e=>setDateFrom(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateTo,onChange:e=>setDateTo(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\",disabled:loading})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-end gap-2 sm:gap-4 mt-4\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:handleSearch,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-blue-600 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ البحث...':'بحث'}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(motion.button,{onClick:handleShowAll,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-gray-600 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ الجلب...':'عرض الكل'}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(motion.button,{onClick:handleExportExcel,disabled:loading||users.length===0,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-green-600 \".concat(loading||users.length===0?'opacity-50 cursor-not-allowed':''),children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0625\\u0643\\u0633\\u0644\"}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(motion.button,{onClick:handleExportWord,disabled:loading||users.length===0,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-indigo-600 \".concat(loading||users.length===0?'opacity-50 cursor-not-allowed':''),children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0648\\u0648\\u0631\\u062F\"}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(motion.button,{onClick:handleSaveReport,disabled:loading||users.length===0,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-teal-600 text-white px-4 py-2 rounded-md hover:bg-teal-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-teal-600 \".concat(loading||users.length===0?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ الحفظ...':'حفظ التقرير'})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:editingUser&&currentUser.role==='admin'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full max-w-md max-h-[90vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right flex items-center gap-2\",children:[/*#__PURE__*/_jsx(SettingsIcon,{className:\"h-6 w-6 text-blue-500\"}),\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631\"]}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:\"bg-red-100 text-red-700 p-3 sm:p-4 rounded-lg mb-4 text-right text-sm sm:text-base font-medium\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"code\",value:editForm.code,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm bg-gray-100 cursor-not-allowed\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0631\\u0628\\u064A\\u0637\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"tieUpValue\",value:editForm.tieUpValue,onChange:handleEditChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\",min:\"0\",step:\"0.01\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0625\\u0646\\u062A\\u0627\\u062C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"productionValue\",value:editForm.productionValue,onChange:handleEditChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\",min:\"0\",step:\"0.01\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0627\\u0644\\u0633\\u0644\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"advances\",value:editForm.advances,onChange:handleEditChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\",min:\"0\",step:\"0.01\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0627\\u0644\\u0627\\u0633\\u062A\\u0642\\u0637\\u0627\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"deductions\",value:editForm.deductions,onChange:handleEditChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\",min:\"0\",step:\"0.01\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2 text-right\",children:\"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u062D\\u0627\\u0641\\u0632\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:Number(editForm.netBonus).toLocaleString('en-US',{minimumFractionDigits:2}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm bg-gray-100 cursor-not-allowed\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-end gap-2 sm:gap-4\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:handleEditSubmit,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-blue-600 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ الحفظ...':'حفظ'}),/*#__PURE__*/_jsx(motion.button,{type:\"button\",onClick:handleEditCancel,disabled:loading,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-gray-600 \".concat(loading?'opacity-50 cursor-not-allowed':''),children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showSuccess&&/*#__PURE__*/_jsx(SuccessCheckmark,{onComplete:()=>setShowSuccess(false)})}),users.length>0?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right\",children:\"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u062D\\u0627\\u0641\\u0632 \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto max-h-[60vh] rounded-lg shadow-sm\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-right text-xs sm:text-sm border-collapse\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{className:\"bg-gradient-to-r from-blue-600 to-blue-400 text-white sticky top-0 z-10\",children:[...(currentUser.role==='admin'?['كود الموظف','الاسم','القسم']:[]),'الحافز الأساسي','نسبة الحافز','أيام العمل الأسبوعية','إجمالي أيام العمل','الغياب','الإجازة السنوية','إجمالي الإجازات','قيمة التربيط','قيمة الإنتاج','السلف','الاستقطاعات','صافي الحافز',...(currentUser.role==='admin'?['إجراءات']:[])].map(header=>/*#__PURE__*/_jsx(\"th\",{className:\"p-3 font-semibold text-sm sm:text-base border-b border-gray-200 whitespace-nowrap\",children:header},header))})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[users.map((user,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"\".concat(index%2===0?'bg-gray-50':'bg-white',\" hover:bg-blue-50 transition-colors duration-200 border-b border-gray-100\"),children:[currentUser.role==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700 whitespace-nowrap\",children:user.code}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:user.employeeName}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:user.department})]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:Number(user.baseBonus||0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-3 text-gray-700\",children:[Number(user.bonusPercentage||0).toFixed(2),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700 text-center\",children:user.workDaysPerWeek}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700 text-center\",children:user.totalWorkDays}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700 text-center\",children:user.absences}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700 text-center\",children:user.annualLeave}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700 text-center\",children:user.totalLeaveDays}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:Number(user.tieUpValue||0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:Number(user.productionValue||0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:Number(user.advances||0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-700\",children:Number(user.deductions||0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-gray-800 font-semibold\",children:Number(user.netBonus||0).toLocaleString('en-US',{minimumFractionDigits:2})}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleEditClick(user),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors duration-300 text-xs sm:text-sm shadow-sm ring-1 ring-offset-1 ring-blue-600\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"})})]},index)),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-blue-100 font-semibold sticky bottom-0\",children:[currentUser.role==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:\"-\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-center\",children:users.reduce((sum,user)=>sum+Number(user.workDaysPerWeek||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-center\",children:users.reduce((sum,user)=>sum+Number(user.totalWorkDays||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-center\",children:users.reduce((sum,user)=>sum+Number(user.absences||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-center\",children:users.reduce((sum,user)=>sum+Number(user.annualLeave||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-center\",children:users.reduce((sum,user)=>sum+Number(user.totalLeaveDays||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:users.reduce((sum,user)=>sum+Number(user.tieUpValue||0),0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:users.reduce((sum,user)=>sum+Number(user.productionValue||0),0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:users.reduce((sum,user)=>sum+Number(user.advances||0),0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:users.reduce((sum,user)=>sum+Number(user.deductions||0),0).toLocaleString('en-US',{minimumFractionDigits:2})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:users.reduce((sum,user)=>sum+Number(user.netBonus||0),0).toLocaleString('en-US',{minimumFractionDigits:2})}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:\"-\"})]})]})]})}),currentUser.role==='admin'&&/*#__PURE__*/_jsx(motion.button,{onClick:handleSaveReport,disabled:loading||users.length===0,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"w-full mt-6 bg-teal-600 text-white py-3 rounded-md hover:bg-teal-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-teal-600 \".concat(loading||users.length===0?'opacity-50 cursor-not-allowed':''),children:loading?'جارٍ الحفظ...':'حفظ التقرير'})]}):!loading&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-sm sm:text-base\",children:currentUser.role==='admin'?'لا توجد تقارير حوافز متاحة لهذه الفترة أو كود الموظف. يرجى التحقق من البيانات المدخلة.':'لا توجد بيانات لتقرير حافزك في الفترة المحددة. يرجى تحديد الفترة الزمنية والضغط على \"بحث\".'})})]})]});};export default MonthlyBonusReport;","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","AuthContext","NavBar","motion","AnimatePresence","axios","DateTime","XLSX","Document","Packer","Paragraph","Table","TableCell","TableRow","WidthType","TextRun","ShadingType","saveAs","SettingsIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SuccessCheckmark","_ref","onComplete","div","initial","opacity","scale","animate","transition","duration","exit","onAnimationComplete","className","children","repeat","Infinity","repeatType","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","pathLength","LoadingSpinner","rotate","ease","MonthlyBonusReport","user","currentUser","navigate","searchCode","setSearchCode","role","code","dateFrom","setDateFrom","dateTo","setDateTo","users","setUsers","loading","setLoading","error","setError","showSuccess","setShowSuccess","editingUser","setEditingUser","editForm","setEditForm","console","log","triggerSuccessAnimation","setTimeout","calculateNetBonus","absences","tieUpValue","productionValue","advances","deductions","baseBonus","Number","bonusPercentage","bonus","dailyBonus","absenceDeduction","adjustedBonus","netBonus","Math","max","toFixed","handleSearch","startDate","fromISO","zone","startOf","endDate","endOf","isValid","endpoint","response","get","concat","process","env","REACT_APP_API_URL","params","_objectSpread","toISODate","headers","Authorization","localStorage","getItem","reportData","Array","isArray","data","reports","report","map","employeeName","department","workDaysPerWeek","totalWorkDays","annualLeave","totalLeaveDays","fromJSDate","Date","err","_err$response","_err$response$data","_err$response2","_err$response2$data","errorMsg","details","message","handleShowAll","_err$response3","_err$response3$data","_err$response4","_err$response4$data","handleEditClick","userData","handleEditChange","e","name","value","target","prev","updatedForm","handleEditSubmit","preventDefault","put","u","_err$response5","_err$response5$data","_err$response6","_err$response6$data","handleEditCancel","handleSaveReport","Promise","all","post","_err$response7","_err$response7$data","_err$response8","_err$response8$data","handleExportExcel","reverse","toLocaleString","minimumFractionDigits","titleRow","dateRow","DATE_FULL","locale","sheetData","worksheet","utils","aoa_to_sheet","xSplit","ySplit","colWidths","header","i","maxLength","length","row","String","wch","range","decode_range","s","r","col","c","cellAddress","encode_cell","font","sz","bold","alignment","horizontal","vertical","fgColor","rgb","color","border","top","style","bottom","left","right","includes","z","wb","book_new","book_append_sheet","writeFile","handleExportWord","doc","sections","properties","page","margin","text","size","rightToLeft","spacing","after","width","type","PERCENTAGE","rows","margins","shading","SOLID","index","toString","reduce","sum","blob","toBlob","y","onChange","placeholder","disabled","button","onClick","whileHover","whileTap","stopPropagation","readOnly","min","step","required","dir"],"sources":["/root/app/salary-6/frontend/src/pages/MonthlyBonusReport.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../components/AuthProvider';\nimport NavBar from '../components/NavBar';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { DateTime } from 'luxon';\nimport * as XLSX from 'xlsx';\nimport { Document, Packer, Paragraph, Table, TableCell, TableRow, WidthType, TextRun, ShadingType } from 'docx';\nimport { saveAs } from 'file-saver';\nimport { SettingsIcon } from 'lucide-react';\n\n// مكون علامة الصح\nconst SuccessCheckmark = ({ onComplete }) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.5 }}\n      animate={{ opacity: 1, scale: 1, transition: { duration: 0.5 } }}\n      exit={{ opacity: 0, scale: 0.5 }}\n      onAnimationComplete={onComplete}\n      className=\"fixed inset-0 flex items-center justify-center z-50\"\n    >\n      <motion.div\n        animate={{\n          scale: [1, 1.1, 1],\n          transition: { duration: 1.5, repeat: Infinity, repeatType: 'loop' },\n        }}\n        className=\"bg-gradient-to-br from-green-400 to-emerald-300 p-8 rounded-full shadow-lg w-28 h-28 sm:w-32 sm:h-32 flex items-center justify-center\"\n      >\n        <svg className=\"w-16 h-16 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <motion.path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"3\"\n            d=\"M5 13l4 4L19 7\"\n            initial={{ pathLength: 0 }}\n            animate={{ pathLength: 1, transition: { duration: 0.8 } }}\n          />\n        </svg>\n      </motion.div>\n    </motion.div>\n  );\n};\n\n// مكون مؤشر التحميل\nconst LoadingSpinner = () => (\n  <motion.div\n    initial={{ opacity: 0 }}\n    animate={{ opacity: 1 }}\n    exit={{ opacity: 0 }}\n    className=\"fixed inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center z-50\"\n  >\n    <div className=\"relative\">\n      <motion.div\n        className=\"w-12 h-12 sm:w-16 sm:h-16 border-4 border-t-transparent border-sky-400 rounded-full\"\n        animate={{ rotate: 360 }}\n        transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n      />\n      <span className=\"absolute inset-0 flex items-center justify-center text-gray-200 text-sm sm:text-base\">\n        جارٍ التحميل...\n      </span>\n    </div>\n  </motion.div>\n);\n\nconst MonthlyBonusReport = () => {\n  const { user: currentUser } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [searchCode, setSearchCode] = useState(currentUser?.role !== 'admin' ? currentUser?.code || '' : '');\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [editForm, setEditForm] = useState({});\n\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n    } else if (currentUser.role !== 'admin') {\n      setSearchCode(currentUser.code || '');\n    }\n    console.log('Current User:', currentUser); // Log للتحقق من بيانات المستخدم\n  }, [currentUser, navigate]);\n\n  const triggerSuccessAnimation = () => {\n    setShowSuccess(true);\n    setTimeout(() => setShowSuccess(false), 3000);\n  };\n\n  const calculateNetBonus = (user, absences, tieUpValue, productionValue, advances, deductions) => {\n    const baseBonus = Number(user.baseBonus || 0);\n    const bonusPercentage = Number(user.bonusPercentage || 0);\n    const bonus = baseBonus * (1 + bonusPercentage / 100);\n    const dailyBonus = bonus / 30;\n    const absenceDeduction = Number(absences || 0) * dailyBonus;\n    const adjustedBonus = bonus - absenceDeduction;\n    const netBonus = adjustedBonus + Number(tieUpValue || 0) + Number(productionValue || 0) - Number(advances || 0) - Number(deductions || 0);\n    return Math.max(0, netBonus).toFixed(2);\n  };\n\n  const handleSearch = async () => {\n    if (!dateFrom || !dateTo) {\n      setError('يرجى إدخال تاريخ البداية والنهاية');\n      return;\n    }\n\n    const startDate = DateTime.fromISO(dateFrom, { zone: 'Africa/Cairo' }).startOf('day');\n    const endDate = DateTime.fromISO(dateTo, { zone: 'Africa/Cairo' }).endOf('day');\n\n    if (!startDate.isValid || !endDate.isValid) {\n      setError('تاريخ البداية أو النهاية غير صالح');\n      return;\n    }\n\n    if (startDate > endDate) {\n      setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    try {\n      const endpoint = currentUser.role === 'admin' ? '/api/bonus-reports' : '/api/bonus-reports/me';\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}${endpoint}`, {\n        params: {\n          dateFrom: startDate.toISODate(),\n          dateTo: endDate.toISODate(),\n          ...(currentUser.role === 'admin' && searchCode && { code: searchCode }),\n        },\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n\n      const reportData = currentUser.role === 'admin' ? \n        (Array.isArray(response.data.reports) ? response.data.reports : [response.data]) :\n        [response.data.report];\n\n      setUsers(reportData.map((report) => ({\n        ...report,\n        employeeName: report.employeeName || 'غير معروف',\n        department: report.department || '',\n        baseBonus: Number(report.baseBonus || 0),\n        bonusPercentage: Number(report.bonusPercentage || 0),\n        workDaysPerWeek: Number(report.workDaysPerWeek || 6),\n        totalWorkDays: Number(report.totalWorkDays || 0),\n        absences: Number(report.absences || 0),\n        annualLeave: Number(report.annualLeave || 0),\n        totalLeaveDays: Number(report.totalLeaveDays || 0),\n        tieUpValue: Number(report.tieUpValue || 0),\n        productionValue: Number(report.productionValue || 0),\n        advances: Number(report.advances || 0),\n        deductions: Number(report.deductions || 0),\n        netBonus: Number(report.netBonus || 0),\n        dateFrom: DateTime.fromJSDate(new Date(report.dateFrom)).toISODate(),\n        dateTo: DateTime.fromJSDate(new Date(report.dateTo)).toISODate(),\n      })));\n      triggerSuccessAnimation();\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || err.response?.data?.details || err.message;\n      console.error('Error fetching data:', errorMsg);\n      setError(`خطأ أثناء جلب البيانات: ${errorMsg}`);\n      setUsers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleShowAll = async () => {\n    if (!dateFrom || !dateTo) {\n      setError('يرجى تحديد تاريخ البداية والنهاية');\n      return;\n    }\n\n    const startDate = DateTime.fromISO(dateFrom, { zone: 'Africa/Cairo' }).startOf('day');\n    const endDate = DateTime.fromISO(dateTo, { zone: 'Africa/Cairo' }).endOf('day');\n\n    if (!startDate.isValid || !endDate.isValid) {\n      setError('تاريخ البداية أو النهاية غير صالح');\n      return;\n    }\n\n    if (startDate > endDate) {\n      setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      return;\n    }\n\n    if (currentUser.role !== 'admin') {\n      setError('عرض جميع التقارير متاح فقط للإداريين');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/bonus-reports`, {\n        params: {\n          dateFrom: startDate.toISODate(),\n          dateTo: endDate.toISODate(),\n        },\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n\n      const reportData = Array.isArray(response.data.reports) ? response.data.reports : [response.data];\n\n      setUsers(reportData.map((report) => ({\n        ...report,\n        employeeName: report.employeeName || 'غير معروف',\n        department: report.department || '',\n        baseBonus: Number(report.baseBonus || 0),\n        bonusPercentage: Number(report.bonusPercentage || 0),\n        workDaysPerWeek: Number(report.workDaysPerWeek || 6),\n        totalWorkDays: Number(report.totalWorkDays || 0),\n        absences: Number(report.absences || 0),\n        annualLeave: Number(report.annualLeave || 0),\n        totalLeaveDays: Number(report.totalLeaveDays || 0),\n        tieUpValue: Number(report.tieUpValue || 0),\n        productionValue: Number(report.productionValue || 0),\n        advances: Number(report.advances || 0),\n        deductions: Number(report.deductions || 0),\n        netBonus: Number(report.netBonus || 0),\n        dateFrom: DateTime.fromJSDate(new Date(report.dateFrom)).toISODate(),\n        dateTo: DateTime.fromJSDate(new Date(report.dateTo)).toISODate(),\n      })));\n      setSearchCode('');\n      triggerSuccessAnimation();\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || err.response?.data?.details || err.message;\n      console.error('Error fetching all data:', errorMsg);\n      setError(`خطأ أثناء جلب جميع البيانات: ${errorMsg}`);\n      setUsers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditClick = (userData) => {\n    if (currentUser.role !== 'admin') {\n      setError('التعديل متاح فقط للإداريين');\n      return;\n    }\n    setEditingUser(userData);\n    setEditForm({\n      code: userData.code,\n      tieUpValue: Number(userData.tieUpValue || 0).toFixed(2),\n      productionValue: Number(userData.productionValue || 0).toFixed(2),\n      advances: Number(userData.advances || 0).toFixed(2),\n      deductions: Number(userData.deductions || 0).toFixed(2),\n      netBonus: Number(userData.netBonus || 0).toFixed(2),\n    });\n    setError('');\n  };\n\n  const handleEditChange = (e) => {\n    const { name, value } = e.target;\n    setEditForm((prev) => {\n      const updatedForm = { ...prev, [name]: value };\n      const netBonus = calculateNetBonus(\n        editingUser,\n        editingUser.absences,\n        Number(updatedForm.tieUpValue) || 0,\n        Number(updatedForm.productionValue) || 0,\n        Number(updatedForm.advances) || 0,\n        Number(updatedForm.deductions) || 0\n      );\n      return { ...updatedForm, netBonus };\n    });\n  };\n\n  const handleEditSubmit = async (e) => {\n    e.preventDefault();\n    if (currentUser.role !== 'admin') {\n      setError('التعديل متاح فقط للإداريين');\n      return;\n    }\n\n    if (!dateFrom || !dateTo) {\n      setError('تاريخ البداية والنهاية مطلوبان');\n      return;\n    }\n\n    const startDate = DateTime.fromISO(dateFrom, { zone: 'Africa/Cairo' }).startOf('day');\n    const endDate = DateTime.fromISO(dateTo, { zone: 'Africa/Cairo' }).endOf('day');\n\n    if (!startDate.isValid || !endDate.isValid) {\n      setError('تاريخ البداية أو النهاية غير صالح');\n      return;\n    }\n\n    if (startDate > endDate) {\n      setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    try {\n      const { tieUpValue, productionValue, advances, deductions } = editForm;\n\n      if (Number(tieUpValue) < 0) {\n        setError('قيمة التربيط لا يمكن أن تكون سالبة');\n        return;\n      }\n      if (Number(productionValue) < 0) {\n        setError('قيمة الإنتاج لا يمكن أن تكون سالبة');\n        return;\n      }\n      if (Number(advances) < 0) {\n        setError('السلف لا يمكن أن تكون سالبة');\n        return;\n      }\n      if (Number(deductions) < 0) {\n        setError('الاستقطاعات لا يمكن أن تكون سالبة');\n        return;\n      }\n\n      const response = await axios.put(\n        `${process.env.REACT_APP_API_URL}/api/bonus-reports/${editForm.code}`,\n        {\n          code: editForm.code,\n          tieUpValue: Number(tieUpValue),\n          productionValue: Number(productionValue),\n          advances: Number(advances),\n          deductions: Number(deductions),\n          dateFrom: startDate.toISODate(),\n          dateTo: endDate.toISODate(),\n        },\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        }\n      );\n\n      setUsers((prev) =>\n        prev.map((u) =>\n          u.code === editForm.code &&\n          u.dateFrom === startDate.toISODate() &&\n          u.dateTo === endDate.toISODate()\n            ? {\n                ...u,\n                tieUpValue: Number(response.data.report.tieUpValue || u.tieUpValue),\n                productionValue: Number(response.data.report.productionValue || u.productionValue),\n                advances: Number(response.data.report.advances || u.advances),\n                deductions: Number(response.data.report.deductions || u.deductions),\n                netBonus: Number(response.data.report.netBonus || u.netBonus),\n              }\n            : u\n        )\n      );\n\n      console.log(`Updated report for code ${editForm.code}:`, response.data.report);\n      setEditingUser(null);\n      setEditForm({});\n      triggerSuccessAnimation();\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || err.response?.data?.details || err.message;\n      console.error('Error updating report:', errorMsg);\n      setError(`خطأ أثناء التعديل: ${errorMsg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditCancel = () => {\n    setEditingUser(null);\n    setEditForm({});\n    setError('');\n  };\n\n  const handleSaveReport = async () => {\n    if (currentUser.role !== 'admin') {\n      setError('حفظ التقرير متاح فقط للإداريين');\n      return;\n    }\n\n    if (!dateFrom || !dateTo) {\n      setError('تاريخ البداية والنهاية مطلوبان');\n      return;\n    }\n\n    const startDate = DateTime.fromISO(dateFrom, { zone: 'Africa/Cairo' }).startOf('day');\n    const endDate = DateTime.fromISO(dateTo, { zone: 'Africa/Cairo' }).endOf('day');\n\n    if (!startDate.isValid || !endDate.isValid) {\n      setError('تاريخ البداية أو النهاية غير صالح');\n      return;\n    }\n\n    if (startDate > endDate) {\n      setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    try {\n      await Promise.all(\n        users.map((user) =>\n          axios.post(\n            `${process.env.REACT_APP_API_URL}/api/bonus-reports`,\n            {\n              code: user.code,\n              tieUpValue: Number(user.tieUpValue),\n              productionValue: Number(user.productionValue),\n              advances: Number(user.advances),\n              deductions: Number(user.deductions),\n              dateFrom: startDate.toISODate(),\n              dateTo: endDate.toISODate(),\n            },\n            {\n              headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n            }\n          )\n        )\n      );\n      console.log(`Saved reports for period ${startDate.toISODate()} to ${endDate.toISODate()}`);\n      triggerSuccessAnimation();\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || err.response?.data?.details || err.message;\n      console.error('Error saving report:', errorMsg);\n      setError(`خطأ أثناء حفظ التقرير: ${errorMsg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExportExcel = () => {\n    const headers = [\n      'صافي الحافز',\n      'الاستقطاعات',\n      'السلف',\n      'قيمة الإنتاج',\n      'قيمة التربيط',\n      'إجمالي الإجازات',\n      'الإجازة السنوية',\n      'الغياب',\n      'إجمالي أيام العمل',\n      'أيام العمل الأسبوعية',\n      'نسبة الحافز',\n      'الحافز الأساسي',\n      ...(currentUser.role === 'admin' ? ['القسم', 'الاسم', 'كود الموظف'] : []),\n    ].reverse();\n\n    const data = users.map((user) => [\n      Number(user.netBonus || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n      Number(user.deductions || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n      Number(user.advances || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n      Number(user.productionValue || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n      Number(user.tieUpValue || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n      user.totalLeaveDays,\n      user.annualLeave,\n      user.absences,\n      user.totalWorkDays,\n      user.workDaysPerWeek,\n      `${Number(user.bonusPercentage || 0).toFixed(2)}%`,\n      Number(user.baseBonus || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n      ...(currentUser.role === 'admin' ? [user.department, user.employeeName, user.code] : []),\n    ].reverse());\n\n    const titleRow = ['تقرير الحافز الشهري'];\n    const dateRow = [`التاريخ: من ${DateTime.fromISO(dateFrom).toLocaleString(DateTime.DATE_FULL, { locale: 'ar' })} إلى ${DateTime.fromISO(dateTo).toLocaleString(DateTime.DATE_FULL, { locale: 'ar' })}`];\n\n    const sheetData = [\n      titleRow,\n      dateRow,\n      [],\n      headers,\n      ...data,\n    ];\n\n    const worksheet = XLSX.utils.aoa_to_sheet(sheetData);\n\n    worksheet['!rtl'] = true;\n    worksheet['!freeze'] = { xSplit: 0, ySplit: 3 };\n\n    const colWidths = headers.map((header, i) => {\n      const maxLength = Math.max(\n        header.length,\n        ...data.map(row => String(row[i] || '').length)\n      );\n      return { wch: Math.max(10, maxLength + 2) };\n    });\n    worksheet['!cols'] = colWidths;\n\n    const range = XLSX.utils.decode_range(worksheet['!ref']);\n    for (let row = range.s.r; row <= range.e.r; row++) {\n      for (let col = range.s.c; col <= range.e.c; col++) {\n        const cellAddress = XLSX.utils.encode_cell({ r: row, c: col });\n        if (!worksheet[cellAddress]) continue;\n\n        if (row === 0) {\n          worksheet[cellAddress].s = {\n            font: { name: 'Amiri', sz: 16, bold: true },\n            alignment: { horizontal: 'right', vertical: 'center' },\n            fill: { fgColor: { rgb: '4B6587' } },\n            color: { rgb: 'FFFFFF' },\n          };\n        } else if (row === 1) {\n          worksheet[cellAddress].s = {\n            font: { name: 'Amiri', sz: 12 },\n            alignment: { horizontal: 'right', vertical: 'center' },\n          };\n        } else if (row === 3) {\n          worksheet[cellAddress].s = {\n            font: { name: 'Amiri', sz: 12, bold: true },\n            alignment: { horizontal: 'center', vertical: 'center' },\n            fill: { fgColor: { rgb: '4B6587' } },\n            color: { rgb: 'FFFFFF' },\n            border: {\n              top: { style: 'thin', color: { rgb: '000000' } },\n              bottom: { style: 'thin', color: { rgb: '000000' } },\n              left: { style: 'thin', color: { rgb: '000000' } },\n              right: { style: 'thin', color: { rgb: '000000' } },\n            },\n          };\n        } else if (row >= 4) {\n          worksheet[cellAddress].s = {\n            font: { name: 'Amiri', sz: 11 },\n            alignment: { horizontal: 'center', vertical: 'center' },\n            border: {\n              top: { style: 'thin', color: { rgb: '000000' } },\n              bottom: { style: 'thin', color: { rgb: '000000' } },\n              left: { style: 'thin', color: { rgb: '000000' } },\n              right: { style: 'thin', color: { rgb: '000000' } },\n            },\n            fill: { fgColor: { rgb: row % 2 === 0 ? 'F7F9FB' : 'FFFFFF' } },\n          };\n          if ([0, 1, 2, 3, 4, 11].includes(col)) {\n            worksheet[cellAddress].z = '#,##0.00';\n          }\n        }\n      }\n    }\n\n    worksheet['!merges'] = [\n      { s: { r: 0, c: 0 }, e: { r: 0, c: headers.length - 1 } },\n      { s: { r: 1, c: 0 }, e: { r: 1, c: headers.length - 1 } },\n    ];\n\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, worksheet, 'تقرير الحافز الشهري');\n    XLSX.writeFile(wb, `تقرير_الحافز_الشهري_${dateFrom}_إلى_${dateTo}.xlsx`);\n  };\n\n  const handleExportWord = async () => {\n    const doc = new Document({\n      sections: [\n        {\n          properties: { page: { margin: { left: 720, right: 720, top: 720, bottom: 720 } } },\n          children: [\n            new Paragraph({\n              children: [\n                new TextRun({\n                  text: 'تقرير الحافز الشهري',\n                  bold: true,\n                  size: 24,\n                  font: 'Amiri',\n                  rightToLeft: true,\n                  color: '4B6587',\n                }),\n              ],\n              alignment: 'right',\n              spacing: { after: 200 },\n            }),\n            new Paragraph({\n              children: [\n                new TextRun({\n                  text: `التاريخ: من ${DateTime.fromISO(dateFrom).toLocaleString(DateTime.DATE_FULL, { locale: 'ar' })} إلى ${DateTime.fromISO(dateTo).toLocaleString(DateTime.DATE_FULL, { locale: 'ar' })}`,\n                  size: 20,\n                  font: 'Amiri',\n                  rightToLeft: true,\n                }),\n              ],\n              alignment: 'right',\n              spacing: { after: 400 },\n            }),\n            new Table({\n              width: { size: 100, type: WidthType.PERCENTAGE },\n              rows: [\n                new TableRow({\n                  children: [\n                    ...(currentUser.role === 'admin' ? ['كود الموظف', 'الاسم', 'القسم'] : []),\n                    'الحافز الأساسي',\n                    'نسبة الحافز',\n                    'أيام العمل الأسبوعية',\n                    'إجمالي أيام العمل',\n                    'الغياب',\n                    'الإجازة السنوية',\n                    'إجمالي الإجازات',\n                    'قيمة التربيط',\n                    'قيمة الإنتاج',\n                    'السلف',\n                    'الاستقطاعات',\n                    'صافي الحافز',\n                  ].map(\n                    (header) =>\n                      new TableCell({\n                        children: [\n                          new Paragraph({\n                            children: [new TextRun({ text: header, bold: true, font: 'Amiri', size: 20, rightToLeft: true, color: 'FFFFFF' })],\n                            alignment: 'center',\n                          }),\n                        ],\n                        width: { size: 100 / (currentUser.role === 'admin' ? 15 : 12), type: WidthType.PERCENTAGE },\n                        margins: { top: 100, bottom: 100, left: 100, right: 100 },\n                        shading: { fill: '4B6587', type: ShadingType.SOLID },\n                      })\n                  ),\n                }),\n                ...users.map(\n                  (user, index) =>\n                    new TableRow({\n                      children: [\n                        ...(currentUser.role === 'admin' ? [\n                          user.code,\n                          user.employeeName,\n                          user.department,\n                        ] : []),\n                        Number(user.baseBonus || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                        `${Number(user.bonusPercentage || 0).toFixed(2)}%`,\n                        user.workDaysPerWeek.toString(),\n                        user.totalWorkDays.toString(),\n                        user.absences.toString(),\n                        user.annualLeave.toString(),\n                        user.totalLeaveDays.toString(),\n                        Number(user.tieUpValue || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                        Number(user.productionValue || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                        Number(user.advances || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                        Number(user.deductions || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                        Number(user.netBonus || 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                      ].map(\n                        (text) =>\n                          new TableCell({\n                            children: [\n                              new Paragraph({\n                                children: [new TextRun({ text, font: 'Amiri', size: 20, rightToLeft: true })],\n                                alignment: 'center',\n                              }),\n                            ],\n                            width: { size: 100 / (currentUser.role === 'admin' ? 15 : 12), type: WidthType.PERCENTAGE },\n                            margins: { top: 100, bottom: 100, left: 100, right: 100 },\n                            shading: { fill: index % 2 === 0 ? 'F7F9FB' : 'FFFFFF', type: ShadingType.SOLID },\n                          })\n                      ),\n                    })\n                ),\n                new TableRow({\n                  children: [\n                    ...(currentUser.role === 'admin' ? ['-', 'الإجمالي', '-'] : []),\n                    '-',\n                    '-',\n                    users.reduce((sum, user) => sum + Number(user.workDaysPerWeek || 0), 0).toString(),\n                    users.reduce((sum, user) => sum + Number(user.totalWorkDays || 0), 0).toString(),\n                    users.reduce((sum, user) => sum + Number(user.absences || 0), 0).toString(),\n                    users.reduce((sum, user) => sum + Number(user.annualLeave || 0), 0).toString(),\n                    users.reduce((sum, user) => sum + Number(user.totalLeaveDays || 0), 0).toString(),\n                    users.reduce((sum, user) => sum + Number(user.tieUpValue || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                    users.reduce((sum, user) => sum + Number(user.productionValue || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                    users.reduce((sum, user) => sum + Number(user.advances || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                    users.reduce((sum, user) => sum + Number(user.deductions || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                    users.reduce((sum, user) => sum + Number(user.netBonus || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 }),\n                  ].map(\n                    (text) =>\n                      new TableCell({\n                        children: [\n                          new Paragraph({\n                            children: [new TextRun({ text, font: 'Amiri', size: 20, rightToLeft: true, bold: true, color: '000000' })],\n                            alignment: 'center',\n                          }),\n                        ],\n                        width: { size: 100 / (currentUser.role === 'admin' ? 15 : 12), type: WidthType.PERCENTAGE },\n                        margins: { top: 100, bottom: 100, left: 100, right: 100 },\n                        shading: { fill: 'A3BFFA', type: ShadingType.SOLID },\n                      })\n                  ),\n                }),\n              ],\n            }),\n          ],\n        },\n      ],\n    });\n\n    const blob = await Packer.toBlob(doc);\n    saveAs(blob, `تقرير_الحافز_الشهري_${dateFrom}_إلى_${dateTo}.docx`);\n  };\n\n  if (!currentUser) return null;\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex flex-col\">\n      <NavBar />\n      <div className=\"container mx-auto p-4 sm:p-6 max-w-full\">\n        <AnimatePresence>\n          {loading && <LoadingSpinner />}\n        </AnimatePresence>\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200 mb-4 sm:mb-6\"\n        >\n          <h2 className=\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right flex items-center gap-2\">\n            <SettingsIcon className=\"h-6 w-6 text-blue-500\" />\n            تقرير الحافز الشهري\n          </h2>\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"bg-red-100 text-red-700 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 text-right text-sm sm:text-base font-medium\"\n            >\n              {error}\n            </motion.div>\n          )}\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                كود الموظف\n              </label>\n              <input\n                type=\"text\"\n                value={searchCode}\n                onChange={(e) => currentUser.role === 'admin' ? setSearchCode(e.target.value) : null}\n                className={`w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200 ${\n                  currentUser.role !== 'admin' ? 'bg-gray-100 cursor-not-allowed' : ''\n                }`}\n                placeholder=\"أدخل كود الموظف\"\n                disabled={loading || currentUser.role !== 'admin'}\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                من تاريخ\n              </label>\n              <input\n                type=\"date\"\n                value={dateFrom}\n                onChange={(e) => setDateFrom(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\"\n                disabled={loading}\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                إلى تاريخ\n              </label>\n              <input\n                type=\"date\"\n                value={dateTo}\n                onChange={(e) => setDateTo(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\"\n                disabled={loading}\n              />\n            </div>\n          </div>\n          <div className=\"flex flex-wrap justify-end gap-2 sm:gap-4 mt-4\">\n            <motion.button\n              onClick={handleSearch}\n              disabled={loading}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className={`w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-blue-600 ${\n                loading ? 'opacity-50 cursor-not-allowed' : ''\n              }`}\n            >\n              {loading ? 'جارٍ البحث...' : 'بحث'}\n            </motion.button>\n            {currentUser.role === 'admin' && (\n              <motion.button\n                onClick={handleShowAll}\n                disabled={loading}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className={`w-full sm:w-auto bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-gray-600 ${\n                  loading ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'جارٍ الجلب...' : 'عرض الكل'}\n              </motion.button>\n            )}\n            {currentUser.role === 'admin' && (\n              <motion.button\n                onClick={handleExportExcel}\n                disabled={loading || users.length === 0}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className={`w-full sm:w-auto bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-green-600 ${\n                  loading || users.length === 0 ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                تصدير إكسل\n              </motion.button>\n            )}\n            {currentUser.role === 'admin' && (\n              <motion.button\n                onClick={handleExportWord}\n                disabled={loading || users.length === 0}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className={`w-full sm:w-auto bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-indigo-600 ${\n                  loading || users.length === 0 ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                تصدير وورد\n              </motion.button>\n            )}\n            {currentUser.role === 'admin' && (\n              <motion.button\n                onClick={handleSaveReport}\n                disabled={loading || users.length === 0}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className={`w-full sm:w-auto bg-teal-600 text-white px-4 py-2 rounded-md hover:bg-teal-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-teal-600 ${\n                  loading || users.length === 0 ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'جارٍ الحفظ...' : 'حفظ التقرير'}\n              </motion.button>\n            )}\n          </div>\n        </motion.div>\n\n        <AnimatePresence>\n          {editingUser && currentUser.role === 'admin' && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.8 }}\n              className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n            >\n              <motion.div\n                className=\"bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full max-w-md max-h-[90vh] overflow-y-auto\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                <h2 className=\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right flex items-center gap-2\">\n                  <SettingsIcon className=\"h-6 w-6 text-blue-500\" />\n                  تعديل بيانات التقرير\n                </h2>\n                {error && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"bg-red-100 text-red-700 p-3 sm:p-4 rounded-lg mb-4 text-right text-sm sm:text-base font-medium\"\n                  >\n                    {error}\n                  </motion.div>\n                )}\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      كود الموظف\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"code\"\n                      value={editForm.code}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm bg-gray-100 cursor-not-allowed\"\n                      readOnly\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      قيمة التربيط\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"tieUpValue\"\n                      value={editForm.tieUpValue}\n                      onChange={handleEditChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      قيمة الإنتاج\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"productionValue\"\n                      value={editForm.productionValue}\n                      onChange={handleEditChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      السلف\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"advances\"\n                      value={editForm.advances}\n                      onChange={handleEditChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      الاستقطاعات\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"deductions\"\n                      value={editForm.deductions}\n                      onChange={handleEditChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm focus:ring-2 focus:ring-blue-300 focus:border-blue-300 transition-colors duration-200\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-medium mb-2 text-right\">\n                      صافي الحافز\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={Number(editForm.netBonus).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-right text-sm bg-gray-100 cursor-not-allowed\"\n                      readOnly\n                    />\n                  </div>\n                  <div className=\"flex flex-wrap justify-end gap-2 sm:gap-4\">\n                    <motion.button\n                      onClick={handleEditSubmit}\n                      disabled={loading}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className={`w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-blue-600 ${\n                        loading ? 'opacity-50 cursor-not-allowed' : ''\n                      }`}\n                    >\n                      {loading ? 'جارٍ الحفظ...' : 'حفظ'}\n                    </motion.button>\n                    <motion.button\n                      type=\"button\"\n                      onClick={handleEditCancel}\n                      disabled={loading}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className={`w-full sm:w-auto bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-gray-600 ${\n                        loading ? 'opacity-50 cursor-not-allowed' : ''\n                      }`}\n                    >\n                      إلغاء\n                    </motion.button>\n                  </div>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        <AnimatePresence>\n          {showSuccess && <SuccessCheckmark onComplete={() => setShowSuccess(false)} />}\n        </AnimatePresence>\n\n        {users.length > 0 ? (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200\"\n          >\n            <h2 className=\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right\">\n              تقرير الحافز الشهري\n            </h2>\n            <div className=\"overflow-x-auto max-h-[60vh] rounded-lg shadow-sm\">\n              <table className=\"w-full text-right text-xs sm:text-sm border-collapse\" dir=\"rtl\">\n                <thead>\n                  <tr className=\"bg-gradient-to-r from-blue-600 to-blue-400 text-white sticky top-0 z-10\">\n                    {[\n                      ...(currentUser.role === 'admin' ? ['كود الموظف', 'الاسم', 'القسم'] : []),\n                      'الحافز الأساسي',\n                      'نسبة الحافز',\n                      'أيام العمل الأسبوعية',\n                      'إجمالي أيام العمل',\n                      'الغياب',\n                      'الإجازة السنوية',\n                      'إجمالي الإجازات',\n                      'قيمة التربيط',\n                      'قيمة الإنتاج',\n                      'السلف',\n                      'الاستقطاعات',\n                      'صافي الحافز',\n                      ...(currentUser.role === 'admin' ? ['إجراءات'] : []),\n                    ].map((header) => (\n                      <th\n                        key={header}\n                        className=\"p-3 font-semibold text-sm sm:text-base border-b border-gray-200 whitespace-nowrap\"\n                      >\n                        {header}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {users.map((user, index) => (\n                    <tr\n                      key={index}\n                      className={`${\n                        index % 2 === 0 ? 'bg-gray-50' : 'bg-white'\n                      } hover:bg-blue-50 transition-colors duration-200 border-b border-gray-100`}\n                    >\n                      {currentUser.role === 'admin' && (\n                        <>\n                          <td className=\"p-3 text-gray-700 whitespace-nowrap\">{user.code}</td>\n                          <td className=\"p-3 text-gray-700\">{user.employeeName}</td>\n                          <td className=\"p-3 text-gray-700\">{user.department}</td>\n                        </>\n                      )}\n                      <td className=\"p-3 text-gray-700\">\n                        {Number(user.baseBonus || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      </td>\n                      <td className=\"p-3 text-gray-700\">{Number(user.bonusPercentage || 0).toFixed(2)}%</td>\n                      <td className=\"p-3 text-gray-700 text-center\">{user.workDaysPerWeek}</td>\n                      <td className=\"p-3 text-gray-700 text-center\">{user.totalWorkDays}</td>\n                      <td className=\"p-3 text-gray-700 text-center\">{user.absences}</td>\n                      <td className=\"p-3 text-gray-700 text-center\">{user.annualLeave}</td>\n                      <td className=\"p-3 text-gray-700 text-center\">{user.totalLeaveDays}</td>\n                      <td className=\"p-3 text-gray-700\">\n                        {Number(user.tieUpValue || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      </td>\n                      <td className=\"p-3 text-gray-700\">\n                        {Number(user.productionValue || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      </td>\n                      <td className=\"p-3 text-gray-700\">\n                        {Number(user.advances || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      </td>\n                      <td className=\"p-3 text-gray-700\">\n                        {Number(user.deductions || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      </td>\n                      <td className=\"p-3 text-gray-800 font-semibold\">\n                        {Number(user.netBonus || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                      </td>\n                      {currentUser.role === 'admin' && (\n                        <td className=\"p-3\">\n                          <motion.button\n                            onClick={() => handleEditClick(user)}\n                            whileHover={{ scale: 1.05 }}\n                            whileTap={{ scale: 0.95 }}\n                            className=\"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors duration-300 text-xs sm:text-sm shadow-sm ring-1 ring-offset-1 ring-blue-600\"\n                          >\n                            تعديل\n                          </motion.button>\n                        </td>\n                      )}\n                    </tr>\n                  ))}\n                  <tr className=\"bg-blue-100 font-semibold sticky bottom-0\">\n                    {currentUser.role === 'admin' && (\n                      <>\n                        <td className=\"p-3\">-</td>\n                        <td className=\"p-3\">الإجمالي</td>\n                        <td className=\"p-3\">-</td>\n                      </>\n                    )}\n                    <td className=\"p-3\">-</td>\n                    <td className=\"p-3\">-</td>\n                    <td className=\"p-3 text-center\">\n                      {users.reduce((sum, user) => sum + Number(user.workDaysPerWeek || 0), 0)}\n                    </td>\n                    <td className=\"p-3 text-center\">\n                      {users.reduce((sum, user) => sum + Number(user.totalWorkDays || 0), 0)}\n                    </td>\n                    <td className=\"p-3 text-center\">\n                      {users.reduce((sum, user) => sum + Number(user.absences || 0), 0)}\n                    </td>\n                    <td className=\"p-3 text-center\">\n                      {users.reduce((sum, user) => sum + Number(user.annualLeave || 0), 0)}\n                    </td>\n                    <td className=\"p-3 text-center\">\n                      {users.reduce((sum, user) => sum + Number(user.totalLeaveDays || 0), 0)}\n                    </td>\n                    <td className=\"p-3\">\n                      {users.reduce((sum, user) => sum + Number(user.tieUpValue || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                    </td>\n                    <td className=\"p-3\">\n                      {users.reduce((sum, user) => sum + Number(user.productionValue || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                    </td>\n                    <td className=\"p-3\">\n                      {users.reduce((sum, user) => sum + Number(user.advances || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                    </td>\n                    <td className=\"p-3\">\n                      {users.reduce((sum, user) => sum + Number(user.deductions || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                    </td>\n                    <td className=\"p-3\">\n                      {users.reduce((sum, user) => sum + Number(user.netBonus || 0), 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                    </td>\n                    {currentUser.role === 'admin' && <td className=\"p-3\">-</td>}\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            {currentUser.role === 'admin' && (\n              <motion.button\n                onClick={handleSaveReport}\n                disabled={loading || users.length === 0}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className={`w-full mt-6 bg-teal-600 text-white py-3 rounded-md hover:bg-teal-700 transition-colors duration-300 text-sm sm:text-base shadow-sm ring-1 ring-offset-1 ring-teal-600 ${\n                  loading || users.length === 0 ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'جارٍ الحفظ...' : 'حفظ التقرير'}\n              </motion.button>\n            )}\n          </motion.div>\n        ) : (\n          !loading && (\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5 }}\n              className=\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200 text-center\"\n            >\n              <p className=\"text-gray-700 text-sm sm:text-base\">\n                {currentUser.role === 'admin'\n                  ? 'لا توجد تقارير حوافز متاحة لهذه الفترة أو كود الموظف. يرجى التحقق من البيانات المدخلة.'\n                  : 'لا توجد بيانات لتقرير حافزك في الفترة المحددة. يرجى تحديد الفترة الزمنية والضغط على \"بحث\".'}\n              </p>\n            </motion.div>\n          )\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MonthlyBonusReport;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}