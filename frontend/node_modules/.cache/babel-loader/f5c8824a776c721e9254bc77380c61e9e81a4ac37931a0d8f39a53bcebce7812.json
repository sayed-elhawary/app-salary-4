{"ast":null,"code":"import React,{useContext}from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import AuthProvider,{AuthContext}from'./components/AuthProvider';import PrivateRoute from'./components/PrivateRoute';import Login from'./pages/Login';import Dashboard from'./pages/Dashboard';import CreateAccount from'./pages/CreateAccount';import UploadFingerprint from'./pages/UploadFingerprint';import Reports from'./pages/Reports';import MonthlySalaryReport from'./pages/MonthlySalaryReport';// مكون لإعادة التوجيه بناءً على حالة المستخدم\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RedirectBasedOnAuth=()=>{const{user}=useContext(AuthContext);if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});};const App=()=>{return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{role:\"admin\",children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/create-account\",element:/*#__PURE__*/_jsx(PrivateRoute,{role:\"admin\",children:/*#__PURE__*/_jsx(CreateAccount,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/upload-fingerprint\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(UploadFingerprint,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(PrivateRoute,{role:\"admin\",children:/*#__PURE__*/_jsx(Reports,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/monthly-salary-report\",element:/*#__PURE__*/_jsx(PrivateRoute,{role:\"admin\",children:/*#__PURE__*/_jsx(MonthlySalaryReport,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RedirectBasedOnAuth,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});};export default App;","map":{"version":3,"names":["React","useContext","BrowserRouter","Routes","Route","Navigate","AuthProvider","AuthContext","PrivateRoute","Login","Dashboard","CreateAccount","UploadFingerprint","Reports","MonthlySalaryReport","jsx","_jsx","jsxs","_jsxs","RedirectBasedOnAuth","user","to","replace","App","children","path","element","role"],"sources":["/root/salary-2/frontend/src/App.js"],"sourcesContent":["\nimport React, { useContext } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport AuthProvider, { AuthContext } from './components/AuthProvider';\nimport PrivateRoute from './components/PrivateRoute';\n\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\nimport CreateAccount from './pages/CreateAccount';\nimport UploadFingerprint from './pages/UploadFingerprint';\nimport Reports from './pages/Reports';\nimport MonthlySalaryReport from './pages/MonthlySalaryReport';\n\n// مكون لإعادة التوجيه بناءً على حالة المستخدم\nconst RedirectBasedOnAuth = () => {\n  const { user } = useContext(AuthContext);\n  if (!user) return <Navigate to=\"/login\" replace />;\n  return <Navigate to=\"/dashboard\" replace />;\n};\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Routes>\n          {/* صفحة تسجيل الدخول (متاحة للكل) */}\n          <Route path=\"/login\" element={<Login />} />\n\n          {/* صفحة الداشبورد (للأدمن بس) */}\n          <Route\n            path=\"/dashboard\"\n            element={\n              <PrivateRoute role=\"admin\">\n                <Dashboard />\n              </PrivateRoute>\n            }\n          />\n\n          {/* صفحة إنشاء حساب (للأدمن بس) */}\n          <Route\n            path=\"/create-account\"\n            element={\n              <PrivateRoute role=\"admin\">\n                <CreateAccount />\n              </PrivateRoute>\n            }\n          />\n\n          {/* صفحة رفع بصمة (متاحة لكل المستخدمين المسجلين) */}\n          <Route\n            path=\"/upload-fingerprint\"\n            element={\n              <PrivateRoute>\n                <UploadFingerprint />\n              </PrivateRoute>\n            }\n          />\n\n          {/* صفحة تقرير المرتب الشهري (للأدمن بس) */}\n          <Route\n            path=\"/reports\"\n            element={\n              <PrivateRoute role=\"admin\">\n                <Reports />\n              </PrivateRoute>\n            }\n          />\n\n          {/* صفحة تقرير المرتب الشهري (للأدمن بس) */}\n          <Route\n            path=\"/monthly-salary-report\"\n            element={\n              <PrivateRoute role=\"admin\">\n                <MonthlySalaryReport />\n              </PrivateRoute>\n            }\n          />\n\n          {/* الجذر يعيد توجيه بناءً على حالة المستخدم */}\n          <Route path=\"/\" element={<RedirectBasedOnAuth />} />\n\n          {/* أي مسار غير معروف يرجع للجذر */}\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}