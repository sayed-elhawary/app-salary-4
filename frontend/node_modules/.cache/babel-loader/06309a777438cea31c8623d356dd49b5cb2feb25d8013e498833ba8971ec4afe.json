{"ast":null,"code":"import _objectSpread from\"/root/app/salary-6/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{DateTime}from'luxon';import{motion}from'framer-motion';import EditModal from'./EditModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ReportTable=_ref=>{let{reports,onEdit}=_ref;const[selectedReport,setSelectedReport]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const[currentPage,setCurrentPage]=useState(1);const reportsPerPage=10;// التحقق من أن reports مصفوفة صالحة\nif(!Array.isArray(reports)){console.error('Reports is not an array:',reports);return/*#__PURE__*/_jsx(\"div\",{className:\"text-right p-4 text-red-600 text-sm sm:text-base\",children:\"\\u062E\\u0637\\u0623: \\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0623\\u0648 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u063A\\u064A\\u0631 \\u0635\\u0627\\u0644\\u062D\\u0629\"});}// تصفية التقارير الصالحة\nconst validReports=reports.filter(report=>{if(!report||!report._id){console.warn('Invalid report object:',report);return false;}return true;});if(validReports.length===0&&reports.length>0){console.error('No valid reports with _id found:',reports);return/*#__PURE__*/_jsx(\"div\",{className:\"text-right p-4 text-red-600 text-sm sm:text-base\",children:\"\\u062E\\u0637\\u0623: \\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0635\\u0627\\u0644\\u062D\\u0629 \\u0644\\u0644\\u0639\\u0631\\u0636\"});}// التحقق من عدد أكواد المستخدمين المختلفة\nconst uniqueCodes=[...new Set(validReports.map(report=>report.code))];const isSingleUser=uniqueCodes.length===1;// حساب التقارير للصفحة الحالية\nconst indexOfLastReport=currentPage*reportsPerPage;const indexOfFirstReport=indexOfLastReport-reportsPerPage;const currentReports=validReports.slice(indexOfFirstReport,indexOfLastReport);// التعامل مع زر التعديل\nconst handleEdit=report=>{try{if(!report||!report._id){console.error('Invalid report for editing:',report);return;}const formattedReport=_objectSpread(_objectSpread({},report),{},{date:report.date&&DateTime.fromISO(report.date,{zone:'Africa/Cairo'}).isValid?DateTime.fromISO(report.date,{zone:'Africa/Cairo'}).toFormat('yyyy-MM-dd'):'',checkIn:report.checkIn&&DateTime.fromFormat(report.checkIn,'hh:mm:ss a',{zone:'Africa/Cairo'}).isValid?DateTime.fromFormat(report.checkIn,'hh:mm:ss a',{zone:'Africa/Cairo'}).toFormat('HH:mm:ss'):'',checkOut:report.checkOut&&DateTime.fromFormat(report.checkOut,'hh:mm:ss a',{zone:'Africa/Cairo'}).isValid?DateTime.fromFormat(report.checkOut,'hh:mm:ss a',{zone:'Africa/Cairo'}).toFormat('HH:mm:ss'):'',absence:report.absence==='نعم',annualLeave:report.annualLeave==='نعم',medicalLeave:report.medicalLeave==='نعم',officialLeave:report.officialLeave==='نعم',leaveCompensation:report.leaveCompensation==='لا'?0:Number(report.leaveCompensation)||0});console.log('Formatted report for EditModal:',formattedReport);setSelectedReport(formattedReport);setIsModalOpen(true);}catch(error){console.error('Error formatting report for edit:',error,'Report:',report);}};const handleModalClose=()=>{setIsModalOpen(false);setSelectedReport(null);};const handleReportUpdate=updatedReport=>{try{if(!updatedReport||!updatedReport._id){console.error('Invalid updated report:',updatedReport);return;}onEdit(updatedReport);setIsModalOpen(false);setSelectedReport(null);}catch(error){console.error('Error updating report:',error,'Updated Report:',updatedReport);}};// حساب الإجماليات (فقط إذا كان البحث لمستخدم واحد)\nconst totals=isSingleUser?validReports.reduce((acc,report)=>{try{acc.totalWorkHours+=Number(report.workHours)||0;acc.totalWorkDays+=report.absence==='لا'&&(Number(report.weeklyLeaveDays)||0)===0&&report.annualLeave==='لا'&&report.medicalLeave==='لا'&&report.officialLeave==='لا'&&(Number(report.leaveCompensation)||0)===0?1:0;acc.totalAbsenceDays+=report.absence==='نعم'?1:0;acc.totalLateDays+=(Number(report.lateDeduction)||0)>0?1:0;acc.totalDeductions+=(Number(report.lateDeduction)||0)+(Number(report.earlyLeaveDeduction)||0)+(Number(report.medicalLeaveDeduction)||0);acc.totalOvertime+=Number(report.overtime)||0;acc.totalWeeklyLeaveDays+=Number(report.weeklyLeaveDays)||0;acc.totalAnnualLeaveDays+=report.annualLeave==='نعم'?1:0;acc.totalMedicalLeaveDays+=report.medicalLeave==='نعم'?1:0;acc.totalOfficialLeaveDays+=report.officialLeave==='نعم'?1:0;acc.totalLeaveCompensationDays+=(Number(report.leaveCompensation)||0)>0?1:0;acc.totalLeaveCompensationValue+=Number(report.leaveCompensation)||0;// استخدام آخر قيمة متاحة لرصيد الإجازات السنوية\nacc.totalAnnualLeaveBalance=Number(report.annualLeaveBalance)||0;}catch(error){console.warn('Error processing report for totals:',error,'Report:',report);}return acc;},{totalWorkHours:0,totalWorkDays:0,totalAbsenceDays:0,totalLateDays:0,totalDeductions:0,totalOvertime:0,totalWeeklyLeaveDays:0,totalAnnualLeaveDays:0,totalMedicalLeaveDays:0,totalOfficialLeaveDays:0,totalLeaveCompensationDays:0,totalLeaveCompensationValue:0,totalAnnualLeaveBalance:0}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right\",children:\"\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"}),validReports.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-right p-4 text-gray-600 text-sm sm:text-base\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0644\\u0644\\u0639\\u0631\\u0636\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u0627\\u0633\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u062D\\u0636\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u0627\\u0646\\u0635\\u0631\\u0627\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0633\\u0627\\u0639\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u0633\\u0627\\u0639\\u0627\\u062A \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u062F\\u0642\\u0627\\u0626\\u0642 \\u0627\\u0644\\u062A\\u0623\\u062E\\u064A\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u062E\\u0635\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062E\\u064A\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u062E\\u0635\\u0645 \\u0627\\u0644\\u0627\\u0646\\u0635\\u0631\\u0627\\u0641 \\u0627\\u0644\\u0645\\u0628\\u0643\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u063A\\u064A\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0637\\u0628\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0631\\u0633\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0628\\u062F\\u0644 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0639\\u0645\\u0644 \\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0633\\u0645\\u0627\\u062D \\u0628\\u0627\\u0644\\u062A\\u0623\\u062E\\u064A\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\",children:\"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentReports.map(report=>{const reportDate=report.date&&DateTime.fromISO(report.date,{zone:'Africa/Cairo'}).isValid?DateTime.fromISO(report.date,{zone:'Africa/Cairo'}):null;const checkInTime=report.checkIn&&DateTime.fromFormat(report.checkIn,'hh:mm:ss a',{zone:'Africa/Cairo'}).isValid?DateTime.fromFormat(report.checkIn,'hh:mm:ss a',{zone:'Africa/Cairo'}):null;const checkOutTime=report.checkOut&&DateTime.fromFormat(report.checkOut,'hh:mm:ss a',{zone:'Africa/Cairo'}).isValid?DateTime.fromFormat(report.checkOut,'hh:mm:ss a',{zone:'Africa/Cairo'}):null;return/*#__PURE__*/_jsxs(motion.tr,{whileHover:{backgroundColor:'#f1fafb'},transition:{duration:0.2},className:report.absence==='نعم'?'bg-red-50':report.isSingleFingerprint==='نعم'?'bg-yellow-50':report.annualLeave==='نعم'?'bg-green-50':report.medicalLeave==='نعم'?'bg-blue-50':report.officialLeave==='نعم'?'bg-cyan-50':(Number(report.leaveCompensation)||0)>0?'bg-amber-50':'',children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.code||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.employeeName||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:reportDate?reportDate.toFormat('yyyy-MM-dd'):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:checkInTime?checkInTime.toFormat('hh:mm:ss a'):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:checkOutTime?checkOutTime.toFormat('hh:mm:ss a'):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:(Number(report.workHours)||0).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:(Number(report.overtime)||0).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:(Number(report.L_DAY_MINUTES)||0).toFixed(0)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:(Number(report.lateDeduction)||0).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:(Number(report.earlyLeaveDeduction)||0).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.absence||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.annualLeave||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.medicalLeave||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.officialLeave||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:(Number(report.leaveCompensation)||0).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:Number(report.workDaysPerWeek)||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:Number(report.weeklyLeaveDays)||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.monthlyLateAllowance!==undefined?report.monthlyLateAllowance:'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\",children:report.annualLeaveBalance!==undefined?report.annualLeaveBalance:'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-2 sm:px-4 py-2 text-right\",children:/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleEdit(report),whileHover:{scale:1.05,boxShadow:'0 4px 12px rgba(0,0,0,0.1)'},whileTap:{scale:0.95},className:\"w-full sm:w-auto bg-indigo-600 text-white px-3 sm:px-4 py-1 sm:py-1 rounded-md hover:bg-indigo-700 transition-colors duration-300 text-xs sm:text-sm\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"})})]},report._id);})})]})}),validReports.length>reportsPerPage&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-4\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:()=>setCurrentPage(currentPage-1),disabled:currentPage===1,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"px-4 py-2 mx-1 bg-indigo-600 text-white rounded disabled:bg-gray-300 disabled:cursor-not-allowed text-sm\",children:\"\\u0627\\u0644\\u0633\\u0627\\u0628\\u0642\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-4 py-2 mx-1 text-sm font-medium text-gray-700\",children:[\"\\u0627\\u0644\\u0635\\u0641\\u062D\\u0629 \",currentPage,\" \\u0645\\u0646 \",Math.ceil(validReports.length/reportsPerPage)]}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>setCurrentPage(currentPage+1),disabled:indexOfLastReport>=validReports.length,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"px-4 py-2 mx-1 bg-indigo-600 text-white rounded disabled:bg-gray-300 disabled:cursor-not-allowed text-sm\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0644\\u064A\"})]}),isSingleUser&&totals&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-right\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-base sm:text-lg font-semibold text-gray-800 mb-4\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\\u0627\\u062A \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg shadow-inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0633\\u0627\\u0639\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u0644\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-blue-700\",children:[totals.totalWorkHours.toFixed(2),\" \\u0633\\u0627\\u0639\\u0629\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0639\\u0645\\u0644\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-green-700\",children:[totals.totalWorkDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u063A\\u064A\\u0627\\u0628\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-red-700\",children:[totals.totalAbsenceDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062E\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-orange-700\",children:[totals.totalLateDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062E\\u0635\\u0648\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-yellow-700\",children:[totals.totalDeductions.toFixed(2),\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0633\\u0627\\u0639\\u0627\\u062A \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-purple-700\",children:[totals.totalOvertime.toFixed(2),\" \\u0633\\u0627\\u0639\\u0629\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-indigo-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-indigo-700\",children:[totals.totalWeeklyLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-teal-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-teal-700\",children:[totals.totalAnnualLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-pink-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0637\\u0628\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-pink-700\",children:[totals.totalMedicalLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cyan-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629 \\u0627\\u0644\\u0631\\u0633\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-cyan-700\",children:[totals.totalOfficialLeaveDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-amber-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0623\\u064A\\u0627\\u0645 \\u0628\\u062F\\u0644 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-amber-700\",children:[totals.totalLeaveCompensationDays,\" \\u064A\\u0648\\u0645\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-lime-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0642\\u064A\\u0645\\u0629 \\u0628\\u062F\\u0644 \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-lime-700\",children:[totals.totalLeaveCompensationValue.toFixed(2),\" \\u062C\\u0646\\u064A\\u0647\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-3 sm:p-4 rounded-lg text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm font-medium text-gray-600\",children:\"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0625\\u062C\\u0627\\u0632\\u0627\\u062A \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm sm:text-lg font-bold text-gray-700\",children:[totals.totalAnnualLeaveBalance.toFixed(2),\" \\u064A\\u0648\\u0645\"]})]})]})]}),/*#__PURE__*/_jsx(EditModal,{report:selectedReport,isOpen:isModalOpen,onClose:handleModalClose,onUpdate:handleReportUpdate})]})]});};export default ReportTable;","map":{"version":3,"names":["React","useState","DateTime","motion","EditModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReportTable","_ref","reports","onEdit","selectedReport","setSelectedReport","isModalOpen","setIsModalOpen","currentPage","setCurrentPage","reportsPerPage","Array","isArray","console","error","className","children","validReports","filter","report","_id","warn","length","uniqueCodes","Set","map","code","isSingleUser","indexOfLastReport","indexOfFirstReport","currentReports","slice","handleEdit","formattedReport","_objectSpread","date","fromISO","zone","isValid","toFormat","checkIn","fromFormat","checkOut","absence","annualLeave","medicalLeave","officialLeave","leaveCompensation","Number","log","handleModalClose","handleReportUpdate","updatedReport","totals","reduce","acc","totalWorkHours","workHours","totalWorkDays","weeklyLeaveDays","totalAbsenceDays","totalLateDays","lateDeduction","totalDeductions","earlyLeaveDeduction","medicalLeaveDeduction","totalOvertime","overtime","totalWeeklyLeaveDays","totalAnnualLeaveDays","totalMedicalLeaveDays","totalOfficialLeaveDays","totalLeaveCompensationDays","totalLeaveCompensationValue","totalAnnualLeaveBalance","annualLeaveBalance","reportDate","checkInTime","checkOutTime","tr","whileHover","backgroundColor","transition","duration","isSingleFingerprint","employeeName","toFixed","L_DAY_MINUTES","workDaysPerWeek","monthlyLateAllowance","undefined","button","onClick","scale","boxShadow","whileTap","disabled","Math","ceil","isOpen","onClose","onUpdate"],"sources":["/root/app/salary-6/frontend/src/components/ReportTable.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DateTime } from 'luxon';\nimport { motion } from 'framer-motion';\nimport EditModal from './EditModal';\n\nconst ReportTable = ({ reports, onEdit }) => {\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const reportsPerPage = 10;\n\n  // التحقق من أن reports مصفوفة صالحة\n  if (!Array.isArray(reports)) {\n    console.error('Reports is not an array:', reports);\n    return (\n      <div className=\"text-right p-4 text-red-600 text-sm sm:text-base\">\n        خطأ: لا توجد بيانات تقارير متاحة أو البيانات غير صالحة\n      </div>\n    );\n  }\n\n  // تصفية التقارير الصالحة\n  const validReports = reports.filter(report => {\n    if (!report || !report._id) {\n      console.warn('Invalid report object:', report);\n      return false;\n    }\n    return true;\n  });\n\n  if (validReports.length === 0 && reports.length > 0) {\n    console.error('No valid reports with _id found:', reports);\n    return (\n      <div className=\"text-right p-4 text-red-600 text-sm sm:text-base\">\n        خطأ: لا توجد تقارير صالحة للعرض\n      </div>\n    );\n  }\n\n  // التحقق من عدد أكواد المستخدمين المختلفة\n  const uniqueCodes = [...new Set(validReports.map(report => report.code))];\n  const isSingleUser = uniqueCodes.length === 1;\n\n  // حساب التقارير للصفحة الحالية\n  const indexOfLastReport = currentPage * reportsPerPage;\n  const indexOfFirstReport = indexOfLastReport - reportsPerPage;\n  const currentReports = validReports.slice(indexOfFirstReport, indexOfLastReport);\n\n  // التعامل مع زر التعديل\n  const handleEdit = (report) => {\n    try {\n      if (!report || !report._id) {\n        console.error('Invalid report for editing:', report);\n        return;\n      }\n\n      const formattedReport = {\n        ...report,\n        date: report.date && DateTime.fromISO(report.date, { zone: 'Africa/Cairo' }).isValid\n          ? DateTime.fromISO(report.date, { zone: 'Africa/Cairo' }).toFormat('yyyy-MM-dd')\n          : '',\n        checkIn: report.checkIn && DateTime.fromFormat(report.checkIn, 'hh:mm:ss a', { zone: 'Africa/Cairo' }).isValid\n          ? DateTime.fromFormat(report.checkIn, 'hh:mm:ss a', { zone: 'Africa/Cairo' }).toFormat('HH:mm:ss')\n          : '',\n        checkOut: report.checkOut && DateTime.fromFormat(report.checkOut, 'hh:mm:ss a', { zone: 'Africa/Cairo' }).isValid\n          ? DateTime.fromFormat(report.checkOut, 'hh:mm:ss a', { zone: 'Africa/Cairo' }).toFormat('HH:mm:ss')\n          : '',\n        absence: report.absence === 'نعم',\n        annualLeave: report.annualLeave === 'نعم',\n        medicalLeave: report.medicalLeave === 'نعم',\n        officialLeave: report.officialLeave === 'نعم',\n        leaveCompensation: report.leaveCompensation === 'لا' ? 0 : Number(report.leaveCompensation) || 0,\n      };\n      console.log('Formatted report for EditModal:', formattedReport);\n      setSelectedReport(formattedReport);\n      setIsModalOpen(true);\n    } catch (error) {\n      console.error('Error formatting report for edit:', error, 'Report:', report);\n    }\n  };\n\n  const handleModalClose = () => {\n    setIsModalOpen(false);\n    setSelectedReport(null);\n  };\n\n  const handleReportUpdate = (updatedReport) => {\n    try {\n      if (!updatedReport || !updatedReport._id) {\n        console.error('Invalid updated report:', updatedReport);\n        return;\n      }\n      onEdit(updatedReport);\n      setIsModalOpen(false);\n      setSelectedReport(null);\n    } catch (error) {\n      console.error('Error updating report:', error, 'Updated Report:', updatedReport);\n    }\n  };\n\n  // حساب الإجماليات (فقط إذا كان البحث لمستخدم واحد)\n  const totals = isSingleUser\n    ? validReports.reduce(\n        (acc, report) => {\n          try {\n            acc.totalWorkHours += Number(report.workHours) || 0;\n            acc.totalWorkDays += report.absence === 'لا' &&\n                                 (Number(report.weeklyLeaveDays) || 0) === 0 &&\n                                 report.annualLeave === 'لا' &&\n                                 report.medicalLeave === 'لا' &&\n                                 report.officialLeave === 'لا' &&\n                                 (Number(report.leaveCompensation) || 0) === 0 ? 1 : 0;\n            acc.totalAbsenceDays += report.absence === 'نعم' ? 1 : 0;\n            acc.totalLateDays += (Number(report.lateDeduction) || 0) > 0 ? 1 : 0;\n            acc.totalDeductions += (Number(report.lateDeduction) || 0) +\n                                  (Number(report.earlyLeaveDeduction) || 0) +\n                                  (Number(report.medicalLeaveDeduction) || 0);\n            acc.totalOvertime += Number(report.overtime) || 0;\n            acc.totalWeeklyLeaveDays += Number(report.weeklyLeaveDays) || 0;\n            acc.totalAnnualLeaveDays += report.annualLeave === 'نعم' ? 1 : 0;\n            acc.totalMedicalLeaveDays += report.medicalLeave === 'نعم' ? 1 : 0;\n            acc.totalOfficialLeaveDays += report.officialLeave === 'نعم' ? 1 : 0;\n            acc.totalLeaveCompensationDays += (Number(report.leaveCompensation) || 0) > 0 ? 1 : 0;\n            acc.totalLeaveCompensationValue += Number(report.leaveCompensation) || 0;\n            // استخدام آخر قيمة متاحة لرصيد الإجازات السنوية\n            acc.totalAnnualLeaveBalance = Number(report.annualLeaveBalance) || 0;\n          } catch (error) {\n            console.warn('Error processing report for totals:', error, 'Report:', report);\n          }\n          return acc;\n        },\n        {\n          totalWorkHours: 0,\n          totalWorkDays: 0,\n          totalAbsenceDays: 0,\n          totalLateDays: 0,\n          totalDeductions: 0,\n          totalOvertime: 0,\n          totalWeeklyLeaveDays: 0,\n          totalAnnualLeaveDays: 0,\n          totalMedicalLeaveDays: 0,\n          totalOfficialLeaveDays: 0,\n          totalLeaveCompensationDays: 0,\n          totalLeaveCompensationValue: 0,\n          totalAnnualLeaveBalance: 0,\n        }\n      )\n    : null;\n\n  return (\n    <div className=\"bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200\">\n      <h2 className=\"text-lg sm:text-xl font-semibold text-gray-800 mb-4 text-right\">التقارير</h2>\n      {validReports.length === 0 ? (\n        <div className=\"text-right p-4 text-gray-600 text-sm sm:text-base\">\n          لا توجد تقارير للعرض\n        </div>\n      ) : (\n        <>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full bg-white\">\n              <thead>\n                <tr className=\"bg-gray-50\">\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">كود الموظف</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الاسم</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">التاريخ</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الحضور</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الانصراف</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">ساعات العمل</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الساعات الإضافية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">دقائق التأخير</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">خصم التأخير</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">خصم الانصراف المبكر</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الغياب</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الإجازة السنوية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الإجازة الطبية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">الإجازة الرسمية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">بدل الإجازة</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">أيام العمل الأسبوعية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">أيام الإجازة الأسبوعية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">رصيد السماح بالتأخير</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">رصيد الإجازة السنوية</th>\n                  <th className=\"px-2 sm:px-4 py-2 sm:py-3 text-right text-xs sm:text-sm font-semibold text-gray-800 border-b\">إجراءات</th>\n                </tr>\n              </thead>\n              <tbody>\n                {currentReports.map((report) => {\n                  const reportDate = report.date && DateTime.fromISO(report.date, { zone: 'Africa/Cairo' }).isValid\n                    ? DateTime.fromISO(report.date, { zone: 'Africa/Cairo' })\n                    : null;\n                  const checkInTime = report.checkIn && DateTime.fromFormat(report.checkIn, 'hh:mm:ss a', { zone: 'Africa/Cairo' }).isValid\n                    ? DateTime.fromFormat(report.checkIn, 'hh:mm:ss a', { zone: 'Africa/Cairo' })\n                    : null;\n                  const checkOutTime = report.checkOut && DateTime.fromFormat(report.checkOut, 'hh:mm:ss a', { zone: 'Africa/Cairo' }).isValid\n                    ? DateTime.fromFormat(report.checkOut, 'hh:mm:ss a', { zone: 'Africa/Cairo' })\n                    : null;\n\n                  return (\n                    <motion.tr\n                      key={report._id}\n                      whileHover={{ backgroundColor: '#f1fafb' }}\n                      transition={{ duration: 0.2 }}\n                      className={\n                        report.absence === 'نعم' ? 'bg-red-50' :\n                        report.isSingleFingerprint === 'نعم' ? 'bg-yellow-50' :\n                        report.annualLeave === 'نعم' ? 'bg-green-50' :\n                        report.medicalLeave === 'نعم' ? 'bg-blue-50' :\n                        report.officialLeave === 'نعم' ? 'bg-cyan-50' :\n                        (Number(report.leaveCompensation) || 0) > 0 ? 'bg-amber-50' : ''\n                      }\n                    >\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.code || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.employeeName || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">\n                        {reportDate ? reportDate.toFormat('yyyy-MM-dd') : '-'}\n                      </td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">\n                        {checkInTime ? checkInTime.toFormat('hh:mm:ss a') : '-'}\n                      </td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">\n                        {checkOutTime ? checkOutTime.toFormat('hh:mm:ss a') : '-'}\n                      </td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{(Number(report.workHours) || 0).toFixed(2)}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{(Number(report.overtime) || 0).toFixed(2)}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{(Number(report.L_DAY_MINUTES) || 0).toFixed(0)}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{(Number(report.lateDeduction) || 0).toFixed(2)}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{(Number(report.earlyLeaveDeduction) || 0).toFixed(2)}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.absence || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.annualLeave || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.medicalLeave || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.officialLeave || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{(Number(report.leaveCompensation) || 0).toFixed(2)}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{Number(report.workDaysPerWeek) || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{Number(report.weeklyLeaveDays) || '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.monthlyLateAllowance !== undefined ? report.monthlyLateAllowance : '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right text-xs sm:text-sm\">{report.annualLeaveBalance !== undefined ? report.annualLeaveBalance : '-'}</td>\n                      <td className=\"px-2 sm:px-4 py-2 text-right\">\n                        <motion.button\n                          onClick={() => handleEdit(report)}\n                          whileHover={{ scale: 1.05, boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}\n                          whileTap={{ scale: 0.95 }}\n                          className=\"w-full sm:w-auto bg-indigo-600 text-white px-3 sm:px-4 py-1 sm:py-1 rounded-md hover:bg-indigo-700 transition-colors duration-300 text-xs sm:text-sm\"\n                        >\n                          تعديل\n                        </motion.button>\n                      </td>\n                    </motion.tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n\n          {/* أزرار التصفح */}\n          {validReports.length > reportsPerPage && (\n            <div className=\"flex justify-center mt-4\">\n              <motion.button\n                onClick={() => setCurrentPage(currentPage - 1)}\n                disabled={currentPage === 1}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className=\"px-4 py-2 mx-1 bg-indigo-600 text-white rounded disabled:bg-gray-300 disabled:cursor-not-allowed text-sm\"\n              >\n                السابق\n              </motion.button>\n              <span className=\"px-4 py-2 mx-1 text-sm font-medium text-gray-700\">\n                الصفحة {currentPage} من {Math.ceil(validReports.length / reportsPerPage)}\n              </span>\n              <motion.button\n                onClick={() => setCurrentPage(currentPage + 1)}\n                disabled={indexOfLastReport >= validReports.length}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className=\"px-4 py-2 mx-1 bg-indigo-600 text-white rounded disabled:bg-gray-300 disabled:cursor-not-allowed text-sm\"\n              >\n                التالي\n              </motion.button>\n            </div>\n          )}\n\n          {/* عرض الإجماليات (فقط لمستخدم واحد) */}\n          {isSingleUser && totals && (\n            <div className=\"mt-6 text-right\">\n              <h3 className=\"text-base sm:text-lg font-semibold text-gray-800 mb-4\">إجماليات الفترة</h3>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg shadow-inner\">\n                <div className=\"bg-blue-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي ساعات العمل</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-blue-700\">{totals.totalWorkHours.toFixed(2)} ساعة</p>\n                </div>\n                <div className=\"bg-green-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام العمل</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-green-700\">{totals.totalWorkDays} يوم</p>\n                </div>\n                <div className=\"bg-red-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام الغياب</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-red-700\">{totals.totalAbsenceDays} يوم</p>\n                </div>\n                <div className=\"bg-orange-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام التأخير</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-orange-700\">{totals.totalLateDays} يوم</p>\n                </div>\n                <div className=\"bg-yellow-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي الخصومات</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-yellow-700\">{totals.totalDeductions.toFixed(2)} يوم</p>\n                </div>\n                <div className=\"bg-purple-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي الساعات الإضافية</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-purple-700\">{totals.totalOvertime.toFixed(2)} ساعة</p>\n                </div>\n                <div className=\"bg-indigo-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام الإجازة الأسبوعية</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-indigo-700\">{totals.totalWeeklyLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-teal-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام الإجازة السنوية</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-teal-700\">{totals.totalAnnualLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-pink-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام الإجازة الطبية</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-pink-700\">{totals.totalMedicalLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-cyan-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام الإجازة الرسمية</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-cyan-700\">{totals.totalOfficialLeaveDays} يوم</p>\n                </div>\n                <div className=\"bg-amber-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي أيام بدل الإجازة</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-amber-700\">{totals.totalLeaveCompensationDays} يوم</p>\n                </div>\n                <div className=\"bg-lime-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">إجمالي قيمة بدل الإجازة</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-lime-700\">{totals.totalLeaveCompensationValue.toFixed(2)} جنيه</p>\n                </div>\n                <div className=\"bg-gray-100 p-3 sm:p-4 rounded-lg text-right\">\n                  <p className=\"text-xs sm:text-sm font-medium text-gray-600\">رصيد الإجازات السنوية</p>\n                  <p className=\"text-sm sm:text-lg font-bold text-gray-700\">{totals.totalAnnualLeaveBalance.toFixed(2)} يوم</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* نافذة التعديل */}\n          <EditModal\n            report={selectedReport}\n            isOpen={isModalOpen}\n            onClose={handleModalClose}\n            onUpdate={handleReportUpdate}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ReportTable;\n"],"mappings":"gHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,MAAM,KAAQ,eAAe,CACtC,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAAF,IAAA,CACtC,KAAM,CAACG,cAAc,CAAEC,iBAAiB,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAoB,cAAc,CAAG,EAAE,CAEzB;AACA,GAAI,CAACC,KAAK,CAACC,OAAO,CAACV,OAAO,CAAC,CAAE,CAC3BW,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEZ,OAAO,CAAC,CAClD,mBACEP,IAAA,QAAKoB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAAC,oRAElE,CAAK,CAAC,CAEV,CAEA;AACA,KAAM,CAAAC,YAAY,CAAGf,OAAO,CAACgB,MAAM,CAACC,MAAM,EAAI,CAC5C,GAAI,CAACA,MAAM,EAAI,CAACA,MAAM,CAACC,GAAG,CAAE,CAC1BP,OAAO,CAACQ,IAAI,CAAC,wBAAwB,CAAEF,MAAM,CAAC,CAC9C,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CAEF,GAAIF,YAAY,CAACK,MAAM,GAAK,CAAC,EAAIpB,OAAO,CAACoB,MAAM,CAAG,CAAC,CAAE,CACnDT,OAAO,CAACC,KAAK,CAAC,kCAAkC,CAAEZ,OAAO,CAAC,CAC1D,mBACEP,IAAA,QAAKoB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAAC,8JAElE,CAAK,CAAC,CAEV,CAEA;AACA,KAAM,CAAAO,WAAW,CAAG,CAAC,GAAG,GAAI,CAAAC,GAAG,CAACP,YAAY,CAACQ,GAAG,CAACN,MAAM,EAAIA,MAAM,CAACO,IAAI,CAAC,CAAC,CAAC,CACzE,KAAM,CAAAC,YAAY,CAAGJ,WAAW,CAACD,MAAM,GAAK,CAAC,CAE7C;AACA,KAAM,CAAAM,iBAAiB,CAAGpB,WAAW,CAAGE,cAAc,CACtD,KAAM,CAAAmB,kBAAkB,CAAGD,iBAAiB,CAAGlB,cAAc,CAC7D,KAAM,CAAAoB,cAAc,CAAGb,YAAY,CAACc,KAAK,CAACF,kBAAkB,CAAED,iBAAiB,CAAC,CAEhF;AACA,KAAM,CAAAI,UAAU,CAAIb,MAAM,EAAK,CAC7B,GAAI,CACF,GAAI,CAACA,MAAM,EAAI,CAACA,MAAM,CAACC,GAAG,CAAE,CAC1BP,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEK,MAAM,CAAC,CACpD,OACF,CAEA,KAAM,CAAAc,eAAe,CAAAC,aAAA,CAAAA,aAAA,IAChBf,MAAM,MACTgB,IAAI,CAAEhB,MAAM,CAACgB,IAAI,EAAI5C,QAAQ,CAAC6C,OAAO,CAACjB,MAAM,CAACgB,IAAI,CAAE,CAAEE,IAAI,CAAE,cAAe,CAAC,CAAC,CAACC,OAAO,CAChF/C,QAAQ,CAAC6C,OAAO,CAACjB,MAAM,CAACgB,IAAI,CAAE,CAAEE,IAAI,CAAE,cAAe,CAAC,CAAC,CAACE,QAAQ,CAAC,YAAY,CAAC,CAC9E,EAAE,CACNC,OAAO,CAAErB,MAAM,CAACqB,OAAO,EAAIjD,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACqB,OAAO,CAAE,YAAY,CAAE,CAAEH,IAAI,CAAE,cAAe,CAAC,CAAC,CAACC,OAAO,CAC1G/C,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACqB,OAAO,CAAE,YAAY,CAAE,CAAEH,IAAI,CAAE,cAAe,CAAC,CAAC,CAACE,QAAQ,CAAC,UAAU,CAAC,CAChG,EAAE,CACNG,QAAQ,CAAEvB,MAAM,CAACuB,QAAQ,EAAInD,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACuB,QAAQ,CAAE,YAAY,CAAE,CAAEL,IAAI,CAAE,cAAe,CAAC,CAAC,CAACC,OAAO,CAC7G/C,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACuB,QAAQ,CAAE,YAAY,CAAE,CAAEL,IAAI,CAAE,cAAe,CAAC,CAAC,CAACE,QAAQ,CAAC,UAAU,CAAC,CACjG,EAAE,CACNI,OAAO,CAAExB,MAAM,CAACwB,OAAO,GAAK,KAAK,CACjCC,WAAW,CAAEzB,MAAM,CAACyB,WAAW,GAAK,KAAK,CACzCC,YAAY,CAAE1B,MAAM,CAAC0B,YAAY,GAAK,KAAK,CAC3CC,aAAa,CAAE3B,MAAM,CAAC2B,aAAa,GAAK,KAAK,CAC7CC,iBAAiB,CAAE5B,MAAM,CAAC4B,iBAAiB,GAAK,IAAI,CAAG,CAAC,CAAGC,MAAM,CAAC7B,MAAM,CAAC4B,iBAAiB,CAAC,EAAI,CAAC,EACjG,CACDlC,OAAO,CAACoC,GAAG,CAAC,iCAAiC,CAAEhB,eAAe,CAAC,CAC/D5B,iBAAiB,CAAC4B,eAAe,CAAC,CAClC1B,cAAc,CAAC,IAAI,CAAC,CACtB,CAAE,MAAOO,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAE,SAAS,CAAEK,MAAM,CAAC,CAC9E,CACF,CAAC,CAED,KAAM,CAAA+B,gBAAgB,CAAGA,CAAA,GAAM,CAC7B3C,cAAc,CAAC,KAAK,CAAC,CACrBF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAA8C,kBAAkB,CAAIC,aAAa,EAAK,CAC5C,GAAI,CACF,GAAI,CAACA,aAAa,EAAI,CAACA,aAAa,CAAChC,GAAG,CAAE,CACxCP,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEsC,aAAa,CAAC,CACvD,OACF,CACAjD,MAAM,CAACiD,aAAa,CAAC,CACrB7C,cAAc,CAAC,KAAK,CAAC,CACrBF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAE,MAAOS,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAE,iBAAiB,CAAEsC,aAAa,CAAC,CAClF,CACF,CAAC,CAED;AACA,KAAM,CAAAC,MAAM,CAAG1B,YAAY,CACvBV,YAAY,CAACqC,MAAM,CACjB,CAACC,GAAG,CAAEpC,MAAM,GAAK,CACf,GAAI,CACFoC,GAAG,CAACC,cAAc,EAAIR,MAAM,CAAC7B,MAAM,CAACsC,SAAS,CAAC,EAAI,CAAC,CACnDF,GAAG,CAACG,aAAa,EAAIvC,MAAM,CAACwB,OAAO,GAAK,IAAI,EACvB,CAACK,MAAM,CAAC7B,MAAM,CAACwC,eAAe,CAAC,EAAI,CAAC,IAAM,CAAC,EAC3CxC,MAAM,CAACyB,WAAW,GAAK,IAAI,EAC3BzB,MAAM,CAAC0B,YAAY,GAAK,IAAI,EAC5B1B,MAAM,CAAC2B,aAAa,GAAK,IAAI,EAC7B,CAACE,MAAM,CAAC7B,MAAM,CAAC4B,iBAAiB,CAAC,EAAI,CAAC,IAAM,CAAC,CAAG,CAAC,CAAG,CAAC,CAC1EQ,GAAG,CAACK,gBAAgB,EAAIzC,MAAM,CAACwB,OAAO,GAAK,KAAK,CAAG,CAAC,CAAG,CAAC,CACxDY,GAAG,CAACM,aAAa,EAAI,CAACb,MAAM,CAAC7B,MAAM,CAAC2C,aAAa,CAAC,EAAI,CAAC,EAAI,CAAC,CAAG,CAAC,CAAG,CAAC,CACpEP,GAAG,CAACQ,eAAe,EAAI,CAACf,MAAM,CAAC7B,MAAM,CAAC2C,aAAa,CAAC,EAAI,CAAC,GAClCd,MAAM,CAAC7B,MAAM,CAAC6C,mBAAmB,CAAC,EAAI,CAAC,CAAC,EACxChB,MAAM,CAAC7B,MAAM,CAAC8C,qBAAqB,CAAC,EAAI,CAAC,CAAC,CACjEV,GAAG,CAACW,aAAa,EAAIlB,MAAM,CAAC7B,MAAM,CAACgD,QAAQ,CAAC,EAAI,CAAC,CACjDZ,GAAG,CAACa,oBAAoB,EAAIpB,MAAM,CAAC7B,MAAM,CAACwC,eAAe,CAAC,EAAI,CAAC,CAC/DJ,GAAG,CAACc,oBAAoB,EAAIlD,MAAM,CAACyB,WAAW,GAAK,KAAK,CAAG,CAAC,CAAG,CAAC,CAChEW,GAAG,CAACe,qBAAqB,EAAInD,MAAM,CAAC0B,YAAY,GAAK,KAAK,CAAG,CAAC,CAAG,CAAC,CAClEU,GAAG,CAACgB,sBAAsB,EAAIpD,MAAM,CAAC2B,aAAa,GAAK,KAAK,CAAG,CAAC,CAAG,CAAC,CACpES,GAAG,CAACiB,0BAA0B,EAAI,CAACxB,MAAM,CAAC7B,MAAM,CAAC4B,iBAAiB,CAAC,EAAI,CAAC,EAAI,CAAC,CAAG,CAAC,CAAG,CAAC,CACrFQ,GAAG,CAACkB,2BAA2B,EAAIzB,MAAM,CAAC7B,MAAM,CAAC4B,iBAAiB,CAAC,EAAI,CAAC,CACxE;AACAQ,GAAG,CAACmB,uBAAuB,CAAG1B,MAAM,CAAC7B,MAAM,CAACwD,kBAAkB,CAAC,EAAI,CAAC,CACtE,CAAE,MAAO7D,KAAK,CAAE,CACdD,OAAO,CAACQ,IAAI,CAAC,qCAAqC,CAAEP,KAAK,CAAE,SAAS,CAAEK,MAAM,CAAC,CAC/E,CACA,MAAO,CAAAoC,GAAG,CACZ,CAAC,CACD,CACEC,cAAc,CAAE,CAAC,CACjBE,aAAa,CAAE,CAAC,CAChBE,gBAAgB,CAAE,CAAC,CACnBC,aAAa,CAAE,CAAC,CAChBE,eAAe,CAAE,CAAC,CAClBG,aAAa,CAAE,CAAC,CAChBE,oBAAoB,CAAE,CAAC,CACvBC,oBAAoB,CAAE,CAAC,CACvBC,qBAAqB,CAAE,CAAC,CACxBC,sBAAsB,CAAE,CAAC,CACzBC,0BAA0B,CAAE,CAAC,CAC7BC,2BAA2B,CAAE,CAAC,CAC9BC,uBAAuB,CAAE,CAC3B,CACF,CAAC,CACD,IAAI,CAER,mBACE7E,KAAA,QAAKkB,SAAS,CAAC,iEAAiE,CAAAC,QAAA,eAC9ErB,IAAA,OAAIoB,SAAS,CAAC,gEAAgE,CAAAC,QAAA,CAAC,kDAAQ,CAAI,CAAC,CAC3FC,YAAY,CAACK,MAAM,GAAK,CAAC,cACxB3B,IAAA,QAAKoB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,2GAEnE,CAAK,CAAC,cAENnB,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BnB,KAAA,UAAOkB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eACpCrB,IAAA,UAAAqB,QAAA,cACEnB,KAAA,OAAIkB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxBrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,yDAAU,CAAI,CAAC,cAC5HrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,gCAAK,CAAI,CAAC,cACvHrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,4CAAO,CAAI,CAAC,cACzHrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,cACxHrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,kDAAQ,CAAI,CAAC,cAC1HrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,+DAAW,CAAI,CAAC,cAC7HrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,6FAAgB,CAAI,CAAC,cAClIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,2EAAa,CAAI,CAAC,cAC/HrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,+DAAW,CAAI,CAAC,cAC7HrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,0GAAmB,CAAI,CAAC,cACrIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,cACxHrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,uFAAe,CAAI,CAAC,cACjIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,iFAAc,CAAI,CAAC,cAChIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,uFAAe,CAAI,CAAC,cACjIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,+DAAW,CAAI,CAAC,cAC7HrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,gHAAoB,CAAI,CAAC,cACtIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,4HAAsB,CAAI,CAAC,cACxIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,gHAAoB,CAAI,CAAC,cACtIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,gHAAoB,CAAI,CAAC,cACtIrB,IAAA,OAAIoB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,4CAAO,CAAI,CAAC,EACvH,CAAC,CACA,CAAC,cACRrB,IAAA,UAAAqB,QAAA,CACGc,cAAc,CAACL,GAAG,CAAEN,MAAM,EAAK,CAC9B,KAAM,CAAAyD,UAAU,CAAGzD,MAAM,CAACgB,IAAI,EAAI5C,QAAQ,CAAC6C,OAAO,CAACjB,MAAM,CAACgB,IAAI,CAAE,CAAEE,IAAI,CAAE,cAAe,CAAC,CAAC,CAACC,OAAO,CAC7F/C,QAAQ,CAAC6C,OAAO,CAACjB,MAAM,CAACgB,IAAI,CAAE,CAAEE,IAAI,CAAE,cAAe,CAAC,CAAC,CACvD,IAAI,CACR,KAAM,CAAAwC,WAAW,CAAG1D,MAAM,CAACqB,OAAO,EAAIjD,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACqB,OAAO,CAAE,YAAY,CAAE,CAAEH,IAAI,CAAE,cAAe,CAAC,CAAC,CAACC,OAAO,CACrH/C,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACqB,OAAO,CAAE,YAAY,CAAE,CAAEH,IAAI,CAAE,cAAe,CAAC,CAAC,CAC3E,IAAI,CACR,KAAM,CAAAyC,YAAY,CAAG3D,MAAM,CAACuB,QAAQ,EAAInD,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACuB,QAAQ,CAAE,YAAY,CAAE,CAAEL,IAAI,CAAE,cAAe,CAAC,CAAC,CAACC,OAAO,CACxH/C,QAAQ,CAACkD,UAAU,CAACtB,MAAM,CAACuB,QAAQ,CAAE,YAAY,CAAE,CAAEL,IAAI,CAAE,cAAe,CAAC,CAAC,CAC5E,IAAI,CAER,mBACExC,KAAA,CAACL,MAAM,CAACuF,EAAE,EAERC,UAAU,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAC3CC,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAC9BpE,SAAS,CACPI,MAAM,CAACwB,OAAO,GAAK,KAAK,CAAG,WAAW,CACtCxB,MAAM,CAACiE,mBAAmB,GAAK,KAAK,CAAG,cAAc,CACrDjE,MAAM,CAACyB,WAAW,GAAK,KAAK,CAAG,aAAa,CAC5CzB,MAAM,CAAC0B,YAAY,GAAK,KAAK,CAAG,YAAY,CAC5C1B,MAAM,CAAC2B,aAAa,GAAK,KAAK,CAAG,YAAY,CAC7C,CAACE,MAAM,CAAC7B,MAAM,CAAC4B,iBAAiB,CAAC,EAAI,CAAC,EAAI,CAAC,CAAG,aAAa,CAAG,EAC/D,CAAA/B,QAAA,eAEDrB,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAACO,IAAI,EAAI,GAAG,CAAK,CAAC,cACzF/B,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAACkE,YAAY,EAAI,GAAG,CAAK,CAAC,cACjG1F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC5D4D,UAAU,CAAGA,UAAU,CAACrC,QAAQ,CAAC,YAAY,CAAC,CAAG,GAAG,CACnD,CAAC,cACL5C,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC5D6D,WAAW,CAAGA,WAAW,CAACtC,QAAQ,CAAC,YAAY,CAAC,CAAG,GAAG,CACrD,CAAC,cACL5C,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC5D8D,YAAY,CAAGA,YAAY,CAACvC,QAAQ,CAAC,YAAY,CAAC,CAAG,GAAG,CACvD,CAAC,cACL5C,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAE,CAACgC,MAAM,CAAC7B,MAAM,CAACsC,SAAS,CAAC,EAAI,CAAC,EAAE6B,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,cACjH3F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAE,CAACgC,MAAM,CAAC7B,MAAM,CAACgD,QAAQ,CAAC,EAAI,CAAC,EAAEmB,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,cAChH3F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAE,CAACgC,MAAM,CAAC7B,MAAM,CAACoE,aAAa,CAAC,EAAI,CAAC,EAAED,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,cACrH3F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAE,CAACgC,MAAM,CAAC7B,MAAM,CAAC2C,aAAa,CAAC,EAAI,CAAC,EAAEwB,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,cACrH3F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAE,CAACgC,MAAM,CAAC7B,MAAM,CAAC6C,mBAAmB,CAAC,EAAI,CAAC,EAAEsB,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,cAC3H3F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAACwB,OAAO,EAAI,GAAG,CAAK,CAAC,cAC5FhD,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAACyB,WAAW,EAAI,GAAG,CAAK,CAAC,cAChGjD,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAAC0B,YAAY,EAAI,GAAG,CAAK,CAAC,cACjGlD,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAAC2B,aAAa,EAAI,GAAG,CAAK,CAAC,cAClGnD,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAE,CAACgC,MAAM,CAAC7B,MAAM,CAAC4B,iBAAiB,CAAC,EAAI,CAAC,EAAEuC,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,cACzH3F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEgC,MAAM,CAAC7B,MAAM,CAACqE,eAAe,CAAC,EAAI,GAAG,CAAK,CAAC,cAC5G7F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEgC,MAAM,CAAC7B,MAAM,CAACwC,eAAe,CAAC,EAAI,GAAG,CAAK,CAAC,cAC5GhE,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAACsE,oBAAoB,GAAKC,SAAS,CAAGvE,MAAM,CAACsE,oBAAoB,CAAG,GAAG,CAAK,CAAC,cACpJ9F,IAAA,OAAIoB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAEG,MAAM,CAACwD,kBAAkB,GAAKe,SAAS,CAAGvE,MAAM,CAACwD,kBAAkB,CAAG,GAAG,CAAK,CAAC,cAChJhF,IAAA,OAAIoB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC1CrB,IAAA,CAACH,MAAM,CAACmG,MAAM,EACZC,OAAO,CAAEA,CAAA,GAAM5D,UAAU,CAACb,MAAM,CAAE,CAClC6D,UAAU,CAAE,CAAEa,KAAK,CAAE,IAAI,CAAEC,SAAS,CAAE,4BAA6B,CAAE,CACrEC,QAAQ,CAAE,CAAEF,KAAK,CAAE,IAAK,CAAE,CAC1B9E,SAAS,CAAC,sJAAsJ,CAAAC,QAAA,CACjK,gCAED,CAAe,CAAC,CACd,CAAC,GA9CAG,MAAM,CAACC,GA+CH,CAAC,CAEhB,CAAC,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CAGLH,YAAY,CAACK,MAAM,CAAGZ,cAAc,eACnCb,KAAA,QAAKkB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvCrB,IAAA,CAACH,MAAM,CAACmG,MAAM,EACZC,OAAO,CAAEA,CAAA,GAAMnF,cAAc,CAACD,WAAW,CAAG,CAAC,CAAE,CAC/CwF,QAAQ,CAAExF,WAAW,GAAK,CAAE,CAC5BwE,UAAU,CAAE,CAAEa,KAAK,CAAE,IAAK,CAAE,CAC5BE,QAAQ,CAAE,CAAEF,KAAK,CAAE,IAAK,CAAE,CAC1B9E,SAAS,CAAC,0GAA0G,CAAAC,QAAA,CACrH,sCAED,CAAe,CAAC,cAChBnB,KAAA,SAAMkB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,EAAC,uCAC1D,CAACR,WAAW,CAAC,gBAAI,CAACyF,IAAI,CAACC,IAAI,CAACjF,YAAY,CAACK,MAAM,CAAGZ,cAAc,CAAC,EACpE,CAAC,cACPf,IAAA,CAACH,MAAM,CAACmG,MAAM,EACZC,OAAO,CAAEA,CAAA,GAAMnF,cAAc,CAACD,WAAW,CAAG,CAAC,CAAE,CAC/CwF,QAAQ,CAAEpE,iBAAiB,EAAIX,YAAY,CAACK,MAAO,CACnD0D,UAAU,CAAE,CAAEa,KAAK,CAAE,IAAK,CAAE,CAC5BE,QAAQ,CAAE,CAAEF,KAAK,CAAE,IAAK,CAAE,CAC1B9E,SAAS,CAAC,0GAA0G,CAAAC,QAAA,CACrH,sCAED,CAAe,CAAC,EACb,CACN,CAGAW,YAAY,EAAI0B,MAAM,eACrBxD,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrB,IAAA,OAAIoB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAAC,uFAAe,CAAI,CAAC,cAC1FnB,KAAA,QAAKkB,SAAS,CAAC,6FAA6F,CAAAC,QAAA,eAC1GnB,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oGAAkB,CAAG,CAAC,cAClFnB,KAAA,MAAGkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEqC,MAAM,CAACG,cAAc,CAAC8B,OAAO,CAAC,CAAC,CAAC,CAAC,2BAAK,EAAG,CAAC,EAClG,CAAC,cACNzF,KAAA,QAAKkB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,8FAAiB,CAAG,CAAC,cACjFnB,KAAA,MAAGkB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,EAAEqC,MAAM,CAACK,aAAa,CAAC,qBAAI,EAAG,CAAC,EACtF,CAAC,cACN7D,KAAA,QAAKkB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oGAAkB,CAAG,CAAC,cAClFnB,KAAA,MAAGkB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,EAAEqC,MAAM,CAACO,gBAAgB,CAAC,qBAAI,EAAG,CAAC,EACvF,CAAC,cACN/D,KAAA,QAAKkB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0GAAmB,CAAG,CAAC,cACnFnB,KAAA,MAAGkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAEqC,MAAM,CAACQ,aAAa,CAAC,qBAAI,EAAG,CAAC,EACvF,CAAC,cACNhE,KAAA,QAAKkB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,uFAAe,CAAG,CAAC,cAC/EnB,KAAA,MAAGkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAEqC,MAAM,CAACU,eAAe,CAACuB,OAAO,CAAC,CAAC,CAAC,CAAC,qBAAI,EAAG,CAAC,EACpG,CAAC,cACNzF,KAAA,QAAKkB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kIAAuB,CAAG,CAAC,cACvFnB,KAAA,MAAGkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAEqC,MAAM,CAACa,aAAa,CAACoB,OAAO,CAAC,CAAC,CAAC,CAAC,2BAAK,EAAG,CAAC,EACnG,CAAC,cACNzF,KAAA,QAAKkB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,iKAA6B,CAAG,CAAC,cAC7FnB,KAAA,MAAGkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAEqC,MAAM,CAACe,oBAAoB,CAAC,qBAAI,EAAG,CAAC,EAC9F,CAAC,cACNvE,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,qJAA2B,CAAG,CAAC,cAC3FnB,KAAA,MAAGkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEqC,MAAM,CAACgB,oBAAoB,CAAC,qBAAI,EAAG,CAAC,EAC5F,CAAC,cACNxE,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,+IAA0B,CAAG,CAAC,cAC1FnB,KAAA,MAAGkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEqC,MAAM,CAACiB,qBAAqB,CAAC,qBAAI,EAAG,CAAC,EAC7F,CAAC,cACNzE,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,qJAA2B,CAAG,CAAC,cAC3FnB,KAAA,MAAGkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEqC,MAAM,CAACkB,sBAAsB,CAAC,qBAAI,EAAG,CAAC,EAC9F,CAAC,cACN1E,KAAA,QAAKkB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,6HAAuB,CAAG,CAAC,cACvFnB,KAAA,MAAGkB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,EAAEqC,MAAM,CAACmB,0BAA0B,CAAC,qBAAI,EAAG,CAAC,EACnG,CAAC,cACN3E,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,6HAAuB,CAAG,CAAC,cACvFnB,KAAA,MAAGkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEqC,MAAM,CAACoB,2BAA2B,CAACa,OAAO,CAAC,CAAC,CAAC,CAAC,2BAAK,EAAG,CAAC,EAC/G,CAAC,cACNzF,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DrB,IAAA,MAAGoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,sHAAqB,CAAG,CAAC,cACrFnB,KAAA,MAAGkB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEqC,MAAM,CAACqB,uBAAuB,CAACY,OAAO,CAAC,CAAC,CAAC,CAAC,qBAAI,EAAG,CAAC,EAC1G,CAAC,EACH,CAAC,EACH,CACN,cAGD3F,IAAA,CAACF,SAAS,EACR0B,MAAM,CAAEf,cAAe,CACvB+F,MAAM,CAAE7F,WAAY,CACpB8F,OAAO,CAAElD,gBAAiB,CAC1BmD,QAAQ,CAAElD,kBAAmB,CAC9B,CAAC,EACF,CACH,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}